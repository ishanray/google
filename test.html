<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>XPaths with PHP by example  &laquo; Earth Info</title>
	<link rel="shortcut icon" href="http://www.earthinfo.org/wp-content/ata-images/Earth.ico" />
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="http://www.earthinfo.org/xmlrpc.php" />
<link rel="alternate" type="application/rss+xml" title="Earth Info &raquo; Feed" href="http://www.earthinfo.org/feed/" />
<link rel="alternate" type="application/rss+xml" title="Earth Info &raquo; Comments Feed" href="http://www.earthinfo.org/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Earth Info &raquo; XPaths with PHP by example Comments Feed" href="http://www.earthinfo.org/xpaths-with-php-by-example/feed/" />
<script type='text/javascript' src='http://www.earthinfo.org/wp-includes/js/jquery/jquery.js?ver=1.10.2'></script>
<script type='text/javascript' src='http://www.earthinfo.org/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://www.earthinfo.org/wp-content/plugins/jquery-lightbox-balupton-edition/scripts/jquery.lightbox.min.js?ver=1.4.9'></script>
<script type='text/javascript' src='http://www.earthinfo.org/wp-content/plugins/jquery-lightbox-balupton-edition/scripts/jquery.lightbox.plugin.min.js?ver=1.0'></script>
<script type='text/javascript' src='http://www.earthinfo.org/wp-includes/js/comment-reply.min.js?ver=3.6'></script>
<script type='text/javascript' src='http://www.earthinfo.org/wp-content/themes/atahualpa/js/DD_roundies.js?ver=0.0.2a'></script>
<script type='text/javascript' src='http://www.earthinfo.org/wp-content/plugins/posttabs/postTabs.js?ver=3.6'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.earthinfo.org/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.earthinfo.org/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Earth Info &#8211; Some links about Earth' href='http://www.earthinfo.org/earth-info-some-links-about-earth/' />
<link rel='next' title='Linux &#8211; disk usage (du) human readable AND sorted by size' href='http://www.earthinfo.org/linux-disk-usage-sorted-by-size-and-human-readable/' />
<link rel='canonical' href='http://www.earthinfo.org/xpaths-with-php-by-example/' />
<link rel='shortlink' href='http://www.earthinfo.org/?p=259' />
	<link href="http://www.earthinfo.org/wp-content/plugins/google-syntax-highlighter/Styles/SyntaxHighlighter.css" type="text/css" rel="stylesheet" />
	      
<script type="text/javascript">jQuery(function($) {
  $.Lightbox.construct({
    "show_linkback": false
  });
});</script>
      	<style type="text/css">
	    .postTabs_divs{
	padding: 4px;	
}


.postTabs_titles{
	display:none;	
}

ul.postTabs
	{
	margin:0px 0px 1em !important;
	padding: 0.2em 1em 0.2em 20px !important;
	border-bottom: 1px solid #ccc !important;
	font-size: 11px;
	list-style-type: none !important;
	line-height:normal;
	text-align: left;
	display: block !important;
	background: none;
	}

ul.postTabs li
	{	
	display: inline !important;
	font-size: 11px;
	line-height:normal;
	background: none;
	padding: 0px;
	margin: 0px;
	}
  
ul.postTabs li:before{
content: none;	
}  
  	
ul.postTabs li a
	{
	text-decoration: none;
	background: #f3f3f3;
	border: 1px solid #ccc  !important;
	padding: 0.2em 0.4em !important;
	color: #666 !important;
	outline:none;	
	cursor: pointer;
	
	}
	
ul.postTabs li.postTabs_curr a{
	border-bottom: 1px solid #fff  !important;
	background: #fff;
	color: #000000 !important;
	text-decoration: none;
	
	}

ul.postTabs li a:hover
	{
	color: #666 !important;
	background: #fff;
	text-decoration: none;
	
	}

.postTabsNavigation{
	display: block !important;
	overflow:hidden;
}

.postTabs_nav_next{
	float:right;
}

.postTabs_nav_prev{
	float:left;
}
	</style>
	<link rel="stylesheet" type="text/css" media="screen" href="http://www.earthinfo.org/wp-content/plugins/social-bookmarks/social_bookmarks.css" />
<script src="http://www.earthinfo.org/wp-includes/js/scriptaculous/prototype.js" type="text/javascript"></script>
<script src="http://www.earthinfo.org/wp-includes/js/scriptaculous/scriptaculous.js" type="text/javascript"></script>
<style type="text/css">body{text-align:center;margin:0;padding:0;font-family:tahoma,arial,sans-serif;font-size:0.8em;color:#000000;background:#ffffff}a:link,a:visited,a:active{color:#666666;font-weight:bold;text-decoration:none;}a:hover{color:#CC0000;font-weight:bold;text-decoration:underline}ul,ol,dl,p,h1,h2,h3,h4,h5,h6{margin-top:10px;margin-bottom:10px;padding-top:0;padding-bottom:0;}ul ul,ul ol,ol ul,ol ol{margin-top:0;margin-bottom:0}code,pre{font-family:"Courier New",Courier,monospace;font-size:1em}pre{overflow:auto;word-wrap:normal;padding-bottom:1.5em;overflow-y:hidden;width:99%}abbr[title],acronym[title]{border-bottom:1px dotted}hr{display:block;height:2px;border:none;margin:0.5em auto;color:#cccccc;background-color:#cccccc}table{font-size:1em;}div.post,ul.commentlist li,ol.commentlist li{word-wrap:break-word;}pre,.wp_syntax{word-wrap:normal;}div#wrapper{text-align:center;margin-left:auto;margin-right:auto;display:block;width:99%}div#container{padding:0;width:auto;margin-left:auto;margin-right:auto;text-align:left;display:block}table#layout{font-size:100%;width:100%;table-layout:fixed}.colone{width:200px}.colone-inner{width:200px}.coltwo{width:100% }.colthree-inner{width:200px}.colthree{width:200px}td#header{width:auto;padding:0}table#logoarea,table#logoarea tr,table#logoarea td{margin:0;padding:0;background:none;border:0}table#logoarea{width:100%;border-spacing:0px;background:#eeeeff}img.logo{display:block;margin:0 10px 0 0}td.logoarea-logo{width:1%}h1.blogtitle,h2.blogtitle{ display:block;margin:0;padding:0;letter-spacing:-1px;line-height:1.0em;font-family:tahoma,arial,sans-serif;font-size:240%;font-smooth:always}h1.blogtitle a:link,h1.blogtitle a:visited,h1.blogtitle a:active,h2.blogtitle a:link,h2.blogtitle a:visited,h2.blogtitle a:active{ text-decoration:none;color:#666666;font-weight:bold;font-smooth:always}h1.blogtitle a:hover,h2.blogtitle a:hover{ text-decoration:none;color:#000000;font-weight:bold}p.tagline{margin:0;padding:0;font-size:1.2em;font-weight:bold;color:#666666}td.feed-icons{white-space:nowrap;}div.rss-box{height:1%;display:block;padding:10px 0 10px 10px;margin:0;width:280px}a.comments-icon{height:22px;line-height:22px;margin:0 5px 0 5px;padding-left:22px;display:block;text-decoration:none;float:right;white-space:nowrap}a.comments-icon:link,a.comments-icon:active,a.comments-icon:visited{background:transparent url(http://www.earthinfo.org/wp-content/themes/atahualpa/images/comment-gray.png) no-repeat scroll center left}a.comments-icon:hover{background:transparent url(http://www.earthinfo.org/wp-content/themes/atahualpa/images/comment.png) no-repeat scroll center left}a.posts-icon{height:22px;line-height:22px;margin:0 5px 0 0;padding-left:20px;display:block;text-decoration:none;float:right;white-space:nowrap}a.posts-icon:link,a.posts-icon:active,a.posts-icon:visited{background:transparent url(http://www.earthinfo.org/wp-content/themes/atahualpa/images/rss-gray.png) no-repeat scroll center left}a.posts-icon:hover{background:transparent url(http://www.earthinfo.org/wp-content/themes/atahualpa/images/rss.png) no-repeat scroll center left}a.email-icon{height:22px;line-height:22px;margin:0 5px 0 5px;padding-left:24px;display:block;text-decoration:none;float:right;white-space:nowrap}a.email-icon:link,a.email-icon:active,a.email-icon:visited{background:transparent url(http://www.earthinfo.org/wp-content/themes/atahualpa/images/email-gray.png) no-repeat scroll center left}a.email-icon:hover{background:transparent url(http://www.earthinfo.org/wp-content/themes/atahualpa/images/email.png) no-repeat scroll center left}td.search-box{height:1%}div.searchbox{height:35px;border-top:0px dashed #ccc;border-right:0px dashed #ccc;border-bottom:0;border-left:0px dashed #ccc;width:200px;margin:0;padding:0}div.searchbox-form{margin:5px 10px 5px 10px}div.horbar1,div.horbar2{font-size:1px;clear:both;display:block;position:relative;padding:0;margin:0}div.horbar1{height:5px;background:#ffffff;border-top:dashed 0px #cccccc}div.horbar2{height:5px;background:#ffffff;border-bottom:dashed 0px #cccccc}div.header-image-container{position:relative;margin:0;padding:0;height:150px;}div.opacityleft{position:absolute;z-index:2;top:0;left:0;background-color:#FFFFFF;height:150px;width:200px;filter:alpha(opacity=40);opacity:.40}div.opacityright{position:absolute;z-index:2;top:0;right:0;background-color:#FFFFFF;height:150px;width:200px;filter:alpha(opacity=40);opacity:.40}a.divclick:link,a.divclick:visited,a.divclick:active,a.divclick:hover{width:100%;height:100%;display:block;text-decoration:none}td#left{vertical-align:top;border-right:dashed 0px #CCCCCC;padding:10px 10px 10px 10px;background:#eeeeff}td#left-inner{vertical-align:top;border-right:dashed 1px #CCCCCC;padding:10px 10px 10px 10px;background:#ffffff}td#right{vertical-align:top;border-left:dashed 0px #CCCCCC;padding:10px 10px 10px 10px;background:#eeeeff}td#right-inner{vertical-align:top;border-left:dashed 1px #CCCCCC;padding:10px 10px 10px 10px;background:#ffffff}td#middle{vertical-align:top;width:100%;padding:10px 15px}td#footer{width:auto;background-color:#ffffff;border-top:dashed 0px #cccccc;padding:10px;text-align:center;color:#777777;font-size:95%}td#footer a:link,td#footer a:visited,td#footer a:active{text-decoration:none;color:#777777;font-weight:normal}td#footer a:hover{text-decoration:none;color:#777777;font-weight:normal}div.widget{display:block;width:auto;margin:0 0 15px 0}div.widget-title{display:block;width:auto}div.widget-title h3,td#left h3.tw-widgettitle,td#right h3.tw-widgettitle,td#left ul.tw-nav-list,td#right ul.tw-nav-list{padding:0;margin:0;font-size:1.6em;font-weight:bold}div.widget ul,div.textwidget{display:block;width:auto}div.widget select{width:98%;margin-top:5px;}div.widget ul{list-style-type:none;margin:0;padding:0;width:auto}div.widget ul li{display:block;margin:2px 0 2px 0px;padding:0 0 0 5px;border-left:solid 7px #cccccc}div.widget ul li:hover,div.widget ul li.sfhover{display:block;width:auto;border-left:solid 7px #000000;}div.widget ul li ul li{margin:2px 0 2px 5px;padding:0 0 0 5px;border-left:solid 7px #cccccc;}div.widget ul li ul li:hover,div.widget ul li ul li.sfhover{border-left:solid 7px #000000;}div.widget ul li ul li ul li{margin:2px 0 2px 5px;padding:0 0 0 5px;border-left:solid 7px #cccccc;}div.widget ul li ul li ul li:hover,div.widget ul li ul li ul li.sfhover{border-left:solid 7px #000000;}div.widget a:link,div.widget a:visited,div.widget a:active,div.widget td a:link,div.widget td a:visited,div.widget td a:active,div.widget ul li a:link,div.widget ul li a:visited,div.widget ul li a:active{text-decoration:none;font-weight:normal;color:#666666;font-weight:normal;}div.widget ul li ul li a:link,div.widget ul li ul li a:visited,div.widget ul li ul li a:active{color:#666666;font-weight:normal;}div.widget ul li ul li ul li a:link,div.widget ul li ul li ul li a:visited,div.widget ul li ul li ul li a:active{color:#666666;font-weight:normal;}div.widget a:hover,div.widget ul li a:hover{color:#000000;}div.widget ul li ul li a:hover{color:#000000;}div.widget ul li ul li ul li a:hover{color:#000000;}div.widget ul li a:link,div.widget ul li a:visited,div.widget ul li a:active,div.widget ul li a:hover{display:inline}* html div.widget ul li a:link,* html div.widget ul li a:visited,* html div.widget ul li a:active,* html div.widget ul li a:hover{height:1%; } div.widget_nav_menu ul li,div.widget_pages ul li,div.widget_categories ul li{border-left:0 !important;padding:0 !important}div.widget_nav_menu ul li a:link,div.widget_nav_menu ul li a:visited,div.widget_nav_menu ul li a:active,div.widget_pages ul li a:link,div.widget_pages ul li a:visited,div.widget_pages ul li a:active,div.widget_categories ul li a:link,div.widget_categories ul li a:visited,div.widget_categories ul li a:active{padding:0 0 0 5px;border-left:solid 7px #cccccc}div.widget_nav_menu ul li a:hover,div.widget_pages ul li a:hover,div.widget_categories ul li a:hover{border-left:solid 7px #000000;}div.widget_nav_menu ul li ul li a:link,div.widget_nav_menu ul li ul li a:visited,div.widget_nav_menu ul li ul li a:active,div.widget_pages ul li ul li a:link,div.widget_pages ul li ul li a:visited,div.widget_pages ul li ul li a:active,div.widget_categories ul li ul li a:link,div.widget_categories ul li ul li a:visited,div.widget_categories ul li ul li a:active{padding:0 0 0 5px;border-left:solid 7px #cccccc}div.widget_nav_menu ul li ul li a:hover,div.widget_pages ul li ul li a:hover,div.widget_categories ul li ul li a:hover{border-left:solid 7px #000000;}div.widget_nav_menu ul li ul li ul li a:link,div.widget_nav_menu ul li ul li ul li a:visited,div.widget_nav_menu ul li ul li ul li a:active,div.widget_pages ul li ul li ul li a:link,div.widget_pages ul li ul li ul li a:visited,div.widget_pages ul li ul li ul li a:active,div.widget_categories ul li ul li ul li a:link,div.widget_categories ul li ul li ul li a:visited,div.widget_categories ul li ul li ul li a:active{padding:0 0 0 5px;border-left:solid 7px #cccccc}div.widget_nav_menu ul li ul li ul li a:hover,div.widget_pages ul li ul li ul li a:hover,div.widget_categories ul li ul li ul li a:hover{border-left:solid 7px #000000;}div.widget_nav_menu ul li a:link,div.widget_nav_menu ul li a:active,div.widget_nav_menu ul li a:visited,div.widget_nav_menu ul li a:hover,div.widget_pages ul li a:link,div.widget_pages ul li a:active,div.widget_pages ul li a:visited,div.widget_pages ul li a:hover{display:block !important}div.widget_categories ul li a:link,div.widget_categories ul li a:active,div.widget_categories ul li a:visited,div.widget_categories ul li a:hover{display:inline !important}table.subscribe{width:100%}table.subscribe td.email-text{padding:0 0 5px 0;vertical-align:top}table.subscribe td.email-field{padding:0;width:100%}table.subscribe td.email-button{padding:0 0 0 5px}table.subscribe td.post-text{padding:7px 0 0 0;vertical-align:top}table.subscribe td.comment-text{padding:7px 0 0 0;vertical-align:top}div.post,div.page{display:block;margin:0 0 30px 0}div.sticky{background:#eee url(http://www.earthinfo.org/blog/wp-content/themes/atahualpa/images/sticky.gif) 99% 5% no-repeat;border:dashed 0px #ccc;padding:10px}div.post-kicker{margin:0 0 5px 0}div.post-kicker a:link,div.post-kicker a:visited,div.post-kicker a:active{color:#000000;text-decoration:none;text-transform:uppercase}div.post-kicker a:hover{color:#cc0000}div.post-headline{}div.post-headline h1,div.post-headline h2{ margin:0; padding:0;padding:0;margin:0}div.post-headline h2 a:link,div.post-headline h2 a:visited,div.post-headline h2 a:active,div.post-headline h1 a:link,div.post-headline h1 a:visited,div.post-headline h1 a:active{color:#666666;text-decoration:none}div.post-headline h2 a:hover,div.post-headline h1 a:hover{color:#000000;text-decoration:none}div.post-byline{margin:5px 0 10px 0}div.post-byline a:link,div.post-byline a:visited,div.post-byline a:active{}div.post-byline a:hover{}div.post-bodycopy{}div.post-bodycopy p{margin:1em 0;padding:0;display:block}div.post-pagination{}div.post-footer{clear:both;display:block;margin:5px;padding:5px;background:#eeeeee;color:#666;line-height:18px}div.post-footer a:link,div.post-footer a:visited,div.post-footer a:active{color:#333;font-weight:normal;text-decoration:none}div.post-footer a:hover{color:#333;font-weight:normal;text-decoration:underline}div.post-kicker img,div.post-byline img,div.post-footer img{border:0;padding:0;margin:0 0 -1px 0;background:none}span.post-ratings{display:inline-block;width:auto;white-space:nowrap}div.navigation-top{margin:0 0 10px 0;padding:10px 0 10px 0;border-bottom:dashed 0px #ccc}div.navigation-middle{margin:10px 0 20px 0;padding:10px 0 10px 0;border-top:dashed 0px #ccc;border-bottom:dashed 0px #ccc}div.navigation-bottom{margin:20px 0 0 0;padding:10px 0 10px 0;border-top:dashed 0px #ccc}div.navigation-comments-above{margin:0 0 10px 0;padding:5px 0 5px 0}div.navigation-comments-below{margin:0 0 10px 0;padding:5px 0 5px 0}div.older{float:left;width:48%;text-align:left;margin:0;padding:0}div.newer{float:right;width:48%;text-align:right;margin:0;padding:0;}div.older-home{float:left;width:44%;text-align:left;margin:0;padding:0}div.newer-home{float:right;width:44%;text-align:right;margin:0;padding:0;}div.home{float:left;width:8%;text-align:center;margin:0;padding:0}form,.feedburner-email-form{margin:0;padding:0;}fieldset{border:1px solid #cccccc;width:auto;padding:0.35em 0.625em 0.75em;display:block;}legend{color:#000000;background:#f4f4f4;border:1px solid #cccccc;padding:2px 6px;margin-bottom:15px;}form p{margin:5px 0 0 0;padding:0;}div.xhtml-tags p{margin:0}label{margin-right:0.5em;font-family:arial;cursor:pointer;}input.text,input.textbox,input.password,input.file,input.TextField,textarea{padding:3px;color:#000000;border-top:solid 1px #333333;border-left:solid 1px #333333;border-right:solid 1px #999999;border-bottom:solid 1px #cccccc;background:url(http://www.earthinfo.org/wp-content/themes/atahualpa/images/inputbackgr.gif) top left no-repeat}textarea{width:96%;}input.inputblur{color:#777777;width:95%}input.inputfocus{color:#000000;width:95%}input.highlight,textarea.highlight{background:#e8eff7;border-color:#37699f}.button,.Button,input[type=submit]{padding:0 2px;height:24px;line-height:16px;background-color:#777777;color:#ffffff;border:solid 2px #555555;font-weight:bold}input.buttonhover{padding:0 2px;cursor:pointer;background-color:#6b9c6b;color:#ffffff;border:solid 2px #496d49}form#commentform input#submit{ padding:0 .25em; overflow:visible}form#commentform input#submit[class]{width:auto}form#commentform input#submit{padding:4px 10px 4px 10px;font-size:1.2em;line-height:1.5em;height:36px}table.searchform{width:100%}table.searchform td.searchfield{padding:0;width:100%}table.searchform td.searchbutton{padding:0 0 0 5px}table.searchform td.searchbutton input{padding:0 0 0 5px}blockquote{height:1%;display:block;clear:both;color:#555555;padding:1em 1em;background:#f4f4f4;border:solid 1px #e1e1e1}blockquote blockquote{height:1%;display:block;clear:both;color:#444444;padding:1em 1em;background:#e1e1e1;border:solid 1px #d3d3d3}div.post table{border-collapse:collapse;margin:10px 0}div.post table caption{width:auto;margin:0 auto;background:#eeeeee;border:#999999;padding:4px 8px;color:#666666}div.post table th{background:#888888;color:#ffffff;font-weight:bold;font-size:90%;padding:4px 8px;border:solid 1px #ffffff;text-align:left}div.post table td{padding:4px 8px;background-color:#ffffff;border-bottom:1px solid #dddddd;text-align:left}div.post table tfoot td{}div.post table tr.alt td{background:#f4f4f4}div.post table tr.over td{background:#e2e2e2}#calendar_wrap{padding:0;border:none}table#wp-calendar{width:100%;font-size:90%;border-collapse:collapse;background-color:#ffffff;margin:0 auto}table#wp-calendar caption{width:auto;background:#eeeeee;border:none;;padding:3px;margin:0 auto;font-size:1em}table#wp-calendar th{border:solid 1px #eeeeee;background-color:#999999;color:#ffffff;font-weight:bold;padding:2px;text-align:center}table#wp-calendar td{padding:0;line-height:18px;background-color:#ffffff;border:1px solid #dddddd;text-align:center}table#wp-calendar tfoot td{border:solid 1px #eeeeee;background-color:#eeeeee}table#wp-calendar td a{display:block;background-color:#eeeeee;width:100%;height:100%;padding:0}div#respond{margin:25px 0;padding:25px;background:#eee;-moz-border-radius:8px;-khtml-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}p.thesetags{margin:10px 0}h3.reply,h3#reply-title{margin:0;padding:0 0 10px 0}ol.commentlist{margin:15px 0 25px 0;list-style-type:none;padding:0;display:block;border-top:dotted 1px #cccccc}ol.commentlist li{padding:15px 10px;display:block;height:1%;margin:0;background-color:#FFFFFF;border-bottom:dotted 1px #cccccc}ol.commentlist li.alt{display:block;height:1%;background-color:#F6F6F6;border-bottom:dotted 1px #cccccc}ol.commentlist li.authorcomment{display:block;height:1%;background-color:#FFECEC}ol.commentlist span.authorname{font-weight:bold;font-size:110%}ol.commentlist span.commentdate{color:#666666;font-size:90%;margin-bottom:5px;display:block}ol.commentlist span.editcomment{display:block}ol.commentlist li p{margin:2px 0 5px 0}div.comment-number{float:right;font-size:2em;line-height:2em;font-family:georgia,serif;font-weight:bold;color:#ddd;margin:-10px 0 0 0;position:relative;height:1%}div.comment-number a:link,div.comment-number a:visited,div.comment-number a:active{color:#ccc}textarea#comment{width:98%;margin:10px 0;display:block}ul.commentlist{margin:15px 0 15px 0;list-style-type:none;padding:0;display:block;border-top:dotted 1px #cccccc}ul.commentlist ul{margin:0;border:none;list-style-type:none;padding:0}ul.commentlist li{padding:0; margin:0;display:block;clear:both;height:1%;}ul.commentlist ul.children li{ margin-left:30px}ul.commentlist div.comment-container{padding:10px;margin:0}ul.children div.comment-container{background-color:transparent;border:dotted 1px #ccc;padding:10px;margin:0 10px 8px 0; border-radius:5px}ul.children div.bypostauthor{}ul.commentlist li.thread-even{background-color:#FFFFFF;border-bottom:dotted 1px #cccccc}ul.commentlist li.thread-odd{background-color:#F6F6F6;border-bottom:dotted 1px #cccccc}ul.commentlist div.bypostauthor{background-color:#FFECEC}ul.children div.bypostauthor{border:dotted 1px #ffbfbf}ul.commentlist span.authorname{font-size:110%}div.comment-meta a:link,div.comment-meta a:visited,div.comment-meta a:active,div.comment-meta a:hover{font-weight:normal}div#cancel-comment-reply{margin:-5px 0 10px 0}div.comment-number{float:right;font-size:2em;line-height:2em;font-family:georgia,serif;font-weight:bold;color:#ddd;margin:-10px 0 0 0;position:relative;height:1%}div.comment-number a:link,div.comment-number a:visited,div.comment-number a:active{color:#ccc}.page-numbers{padding:2px 6px;border:solid 1px #000000;border-radius:6px}span.current{background:#ddd}a.prev,a.next{border:none}a.page-numbers:link,a.page-numbers:visited,a.page-numbers:active{text-decoration:none;color:#666666;border-color:#666666}a.page-numbers:hover{text-decoration:none;color:#CC0000;border-color:#CC0000}div.xhtml-tags{display:none}abbr em{border:none !important;border-top:dashed 1px #aaa !important;display:inline-block !important;background:url(http://www.earthinfo.org/wp-content/themes/atahualpa/images/commentluv.gif) 0% 90% no-repeat;margin-top:8px;padding:5px 5px 2px 20px !important;font-style:normal}p.subscribe-to-comments{margin-bottom:10px}div#gsHeader{display:none;}div.g2_column{margin:0 !important;width:100% !important;font-size:1.2em}div#gsNavBar{border-top-width:0 !important}p.giDescription{font-size:1.2em;line-height:1 !important}p.giTitle{margin:0.3em 0 !important;font-size:1em;font-weight:normal;color:#666}div#wp-email img{border:0;padding:0}div#wp-email input,div#wp-email textarea{margin-top:5px;margin-bottom:2px}div#wp-email p{margin-bottom:10px}input#wp-email-submit{ padding:0; font-size:30px; height:50px; line-height:50px; overflow:visible;}img.WP-EmailIcon{ vertical-align:text-bottom !important}.tw-accordion .tw-widgettitle,.tw-accordion .tw-widgettitle:hover,.tw-accordion .tw-hovered,.tw-accordion .selected,.tw-accordion .selected:hover{ background:transparent !important; background-image:none !important}.tw-accordion .tw-widgettitle span{ padding-left:0 !important}.tw-accordion h3.tw-widgettitle{border-bottom:solid 1px #ccc}.tw-accordion h3.selected{border-bottom:none}td#left .without_title,td#right .without_title{ margin-top:0;margin-bottom:0}ul.tw-nav-list{border-bottom:solid 1px #999;display:block;margin-bottom:5px !important}td#left ul.tw-nav-list li,td#right ul.tw-nav-list li{padding:0 0 1px 0;margin:0 0 -1px 5px; border:solid 1px #ccc;border-bottom:none;border-radius:5px;border-bottom-right-radius:0;border-bottom-left-radius:0;background:#eee}td#left ul.tw-nav-list li.ui-tabs-selected,td#right ul.tw-nav-list li.ui-tabs-selected{ background:none;border:solid 1px #999;border-bottom:solid 1px #fff !important}ul.tw-nav-list li a:link,ul.tw-nav-list li a:visited,ul.tw-nav-list li a:active,ul.tw-nav-list li a:hover{padding:0 8px !important;background:none;border-left:none !important;outline:none}td#left ul.tw-nav-list li.ui-tabs-selected a,td#left li.ui-tabs-selected a:hover,td#right ul.tw-nav-list li.ui-tabs-selected a,td#right li.ui-tabs-selected a:hover{ color:#000000; text-decoration:none;font-weight:bold;background:none !important;outline:none}td#left .ui-tabs-panel,td#right .ui-tabs-panel{ margin:0; padding:0}img{border:0}#dbem-location-map img{ background:none !important}.post img{padding:5px;border:solid 1px #dddddd;background-color:#f3f3f3;-moz-border-radius:3px;-khtml-border-radius:3px;-webkit-border-radius:3px;border-radius:3px}.post img.size-full{max-width:96%;width:auto;margin:5px 0 5px 0}div.post img[class~=size-full]{height:auto;}.post img.alignleft{float:left;margin:10px 10px 5px 0;}.post img.alignright{float:right;margin:10px 0 5px 10px;}.post img.aligncenter{display:block;margin:10px auto}.aligncenter,div.aligncenter{ display:block; margin-left:auto; margin-right:auto}.alignleft,div.alignleft{float:left;margin:10px 10px 5px 0}.alignright,div.alignright{ float:right; margin:10px 0 5px 10px}div.archives-page img{border:0;padding:0;background:none;margin-bottom:0;vertical-align:-10%}.wp-caption{max-width:96%;width:auto 100%;height:auto;display:block;border:1px solid #dddddd;text-align:center;background-color:#f3f3f3;padding-top:4px;margin:10px 0 0 0;-moz-border-radius:3px;-khtml-border-radius:3px;-webkit-border-radius:3px;border-radius:3px}* html .wp-caption{height:100%;}.wp-caption img{ margin:0 !important; padding:0 !important; border:0 none !important}.wp-caption p.wp-caption-text{font-size:0.8em;line-height:13px;padding:2px 4px 5px;margin:0;color:#666666}img.wp-post-image{float:left;border:0;padding:0;background:none;margin:0 10px 5px 0}img.wp-smiley{ float:none;border:none !important;margin:0 1px -1px 1px;padding:0 !important;background:none !important}img.avatar{float:left;display:block;margin:0 8px 1px 0;padding:3px;border:solid 1px #ddd;background-color:#f3f3f3;-moz-border-radius:3px;-khtml-border-radius:3px;-webkit-border-radius:3px;border-radius:3px}#comment_quicktags{text-align:left;padding:10px 0 2px 0;display:block}#comment_quicktags input.ed_button{background:#f4f4f4;border:2px solid #cccccc;color:#444444;margin:2px 4px 2px 0;width:auto;padding:0 4px;height:24px;line-height:16px}#comment_quicktags input.ed_button_hover{background:#dddddd;border:2px solid #666666;color:#000000;margin:2px 4px 2px 0;width:auto;padding:0 4px;height:24px;line-height:16px;cursor:pointer}#comment_quicktags #ed_strong{font-weight:bold}#comment_quicktags #ed_em{font-style:italic}@media print{body{background:white;color:black;margin:0;font-size:10pt !important;font-family:arial,sans-serif;}div.post-footer{line-height:normal !important;color:#555 !important;font-size:9pt !important}a:link,a:visited,a:active,a:hover{text-decoration:underline !important;color:#000}h2{color:#000;font-size:14pt !important;font-weight:normal !important}h3{color:#000;font-size:12pt !important;}#header,#footer,.colone,.colone-inner,.colthree-inner,.colthree,.navigation,.navigation-top,.navigation-middle,.navigation-bottom,.wp-pagenavi-navigation,#comment,#respond,.remove-for-print{display:none}td#left,td#right,td#left-inner,td#right-inner{width:0;display:none}td#middle{width:100% !important;display:block}*:lang(en) td#left{ display:none}*:lang(en) td#right{ display:none}*:lang(en) td#left-inner{ display:none}*:lang(en) td#right-inner{ display:none}td#left:empty{ display:none}td#right:empty{ display:none}td#left-inner:empty{ display:none}td#right-inner:empty{ display:none}}ul.rMenu,ul.rMenu ul,ul.rMenu li,ul.rMenu a{display:block;margin:0;padding:0}ul.rMenu,ul.rMenu li,ul.rMenu ul{list-style:none}ul.rMenu ul{display:none}ul.rMenu li{position:relative;z-index:1}ul.rMenu li:hover{z-index:999}ul.rMenu li:hover > ul{display:block;position:absolute}ul.rMenu li:hover{background-position:0 0} ul.rMenu-hor li{float:left;width:auto}ul.rMenu-hRight li{float:right}ul.sub-menu li,ul.rMenu-ver li{float:none}div#menu1 ul.sub-menu,div#menu1 ul.sub-menu ul,div#menu1 ul.rMenu-ver,div#menu1 ul.rMenu-ver ul{width:11em}div#menu2 ul.sub-menu,div#menu2 ul.sub-menu ul,div#menu2 ul.rMenu-ver,div#menu2 ul.rMenu-ver ul{width:11em}ul.rMenu-wide{width:100%}ul.rMenu-vRight{float:right}ul.rMenu-lFloat{float:left}ul.rMenu-noFloat{float:none}div.rMenu-center ul.rMenu{float:left;position:relative;left:50%}div.rMenu-center ul.rMenu li{position:relative;left:-50%}div.rMenu-center ul.rMenu li li{left:auto}ul.rMenu-hor ul{top:auto;right:auto;left:auto;margin-top:-1px}ul.rMenu-hor ul ul{margin-top:0;margin-left:0px}ul.sub-menu ul,ul.rMenu-ver ul{left:100%;right:auto;top:auto;top:0}ul.rMenu-vRight ul,ul.rMenu-hRight ul.sub-menu ul,ul.rMenu-hRight ul.rMenu-ver ul{left:-100%;right:auto;top:auto}ul.rMenu-hRight ul{left:auto;right:0;top:auto;margin-top:-1px}div#menu1 ul.rMenu{background:#56565C;border:dashed 1px #000000}div#menu2 ul.rMenu{background:#777777;border:solid 1px #000000}div#menu1 ul.rMenu li a{border:dashed 1px #000000}div#menu2 ul.rMenu li a{border:solid 1px #000000}ul.rMenu-hor li{margin-bottom:-1px;margin-top:-1px;margin-left:-1px}ul#rmenu li{}ul#rmenu li ul li{}ul.rMenu-hor{padding-left:1px }ul.sub-menu li,ul.rMenu-ver li{margin-left:0;margin-top:-1px; }div#menu1 ul.sub-menu,div#menu1 ul.rMenu-ver{border-top:dashed 1px #000000}div#menu2 ul.sub-menu,div#menu2 ul.rMenu-ver{border-top:solid 1px #000000}div#menu1 ul.rMenu li a{padding:4px 5px}div#menu2 ul.rMenu li a{padding:4px 5px}div#menu1 ul.rMenu li a:link,div#menu1 ul.rMenu li a:hover,div#menu1 ul.rMenu li a:visited,div#menu1 ul.rMenu li a:active{text-decoration:none;margin:0;color:#FFFFFF;text-transform:uppercase;font:11px Arial,Verdana,sans-serif;}div#menu2 ul.rMenu li a:link,div#menu2 ul.rMenu li a:hover,div#menu2 ul.rMenu li a:visited,div#menu2 ul.rMenu li a:active{text-decoration:none;margin:0;color:#FFFFFF;text-transform:uppercase;font:11px Arial,Verdana,sans-serif;}div#menu1 ul.rMenu li{background-color:#56565C}div#menu2 ul.rMenu li{background-color:#777777}div#menu1 ul.rMenu li:hover,div#menu1 ul.rMenu li.sfhover{background:#000000}div#menu2 ul.rMenu li:hover,div#menu2 ul.rMenu li.sfhover{background:#000000}div#menu1 ul.rMenu li.current-menu-item > a:link,div#menu1 ul.rMenu li.current-menu-item > a:active,div#menu1 ul.rMenu li.current-menu-item > a:hover,div#menu1 ul.rMenu li.current-menu-item > a:visited,div#menu1 ul.rMenu li.current_page_item > a:link,div#menu1 ul.rMenu li.current_page_item > a:active,div#menu1 ul.rMenu li.current_page_item > a:hover,div#menu1 ul.rMenu li.current_page_item > a:visited{background-color:#000000;color:#FFFFFF}div#menu1 ul.rMenu li.current-menu-item a:link,div#menu1 ul.rMenu li.current-menu-item a:active,div#menu1 ul.rMenu li.current-menu-item a:hover,div#menu1 ul.rMenu li.current-menu-item a:visited,div#menu1 ul.rMenu li.current_page_item a:link,div#menu1 ul.rMenu li.current_page_item a:active,div#menu1 ul.rMenu li.current_page_item a:hover,div#menu1 ul.rMenu li.current_page_item a:visited,div#menu1 ul.rMenu li a:hover{background-color:#000000;color:#FFFFFF}div#menu2 ul.rMenu li.current-menu-item > a:link,div#menu2 ul.rMenu li.current-menu-item > a:active,div#menu2 ul.rMenu li.current-menu-item > a:hover,div#menu2 ul.rMenu li.current-menu-item > a:visited,div#menu2 ul.rMenu li.current-cat > a:link,div#menu2 ul.rMenu li.current-cat > a:active,div#menu2 ul.rMenu li.current-cat > a:hover,div#menu2 ul.rMenu li.current-cat > a:visited{background-color:#CC0000;color:#FFFFFF}div#menu2 ul.rMenu li.current-menu-item a:link,div#menu2 ul.rMenu li.current-menu-item a:active,div#menu2 ul.rMenu li.current-menu-item a:hover,div#menu2 ul.rMenu li.current-menu-item a:visited,div#menu2 ul.rMenu li.current-cat a:link,div#menu2 ul.rMenu li.current-cat a:active,div#menu2 ul.rMenu li.current-cat a:hover,div#menu2 ul.rMenu li.current-cat a:visited,div#menu2 ul.rMenu li a:hover{background-color:#CC0000;color:#FFFFFF}div#menu1 ul.rMenu li.rMenu-expand a,div#menu1 ul.rMenu li.rMenu-expand li.rMenu-expand a,div#menu1 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand a,div#menu1 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,div#menu1 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,div#menu1 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,div#menu1 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,div#menu1 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,div#menu1 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,div#menu1 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a{padding-right:15px;padding-left:5px;background-repeat:no-repeat;background-position:100% 50%;background-image:url(http://www.earthinfo.org/wp-content/themes/atahualpa/images/expand-right.gif)}div#menu2 ul.rMenu li.rMenu-expand a,div#menu2 ul.rMenu li.rMenu-expand li.rMenu-expand a,div#menu2 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand a,div#menu2 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,div#menu2 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,div#menu2 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,div#menu2 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,div#menu2 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,div#menu2 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,div#menu2 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a{padding-right:15px;padding-left:5px;background-repeat:no-repeat;background-position:100% 50%;background-image:url(http://www.earthinfo.org/wp-content/themes/atahualpa/images/expand-right-white.gif)}ul.rMenu-vRight li.rMenu-expand a,ul.rMenu-vRight li.rMenu-expand li.rMenu-expand a,ul.rMenu-vRight li.rMenu-expand li.rMenu-expand li.rMenu-expand a,ul.rMenu-vRight li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,ul.rMenu-vRight li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,ul.rMenu-vRight li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,ul.rMenu-vRight li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,ul.rMenu-vRight li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,ul.rMenu-vRight li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,ul.rMenu-vRight li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,ul.rMenu-hRight li.rMenu-expand a,ul.rMenu-hRight li.rMenu-expand li.rMenu-expand a,ul.rMenu-hRight li.rMenu-expand li.rMenu-expand li.rMenu-expand a,ul.rMenu-hRight li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,ul.rMenu-hRight li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,ul.rMenu-hRight li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,ul.rMenu-hRight li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,ul.rMenu-hRight li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,ul.rMenu-hRight li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a,ul.rMenu-hRight li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand a{padding-right:5px;padding-left:20px;background-image:url(http://www.earthinfo.org/wp-content/themes/atahualpa/images/expand-left.gif);background-repeat:no-repeat;background-position:-5px 50%}div#menu1 ul.rMenu-hor li.rMenu-expand a{padding-left:5px;padding-right:15px !important;background-position:100% 50%;background-image:url(http://www.earthinfo.org/wp-content/themes/atahualpa/images/expand-down.gif)}div#menu2 ul.rMenu-hor li.rMenu-expand a{padding-left:5px;padding-right:15px !important;background-position:100% 50%;background-image:url(http://www.earthinfo.org/wp-content/themes/atahualpa/images/expand-down-white.gif)}div#menu1 ul.rMenu li.rMenu-expand li a,div#menu1 ul.rMenu li.rMenu-expand li.rMenu-expand li a,div#menu1 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li a,div#menu1 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li a,div#menu1 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li a{background-image:none;padding-right:5px;padding-left:5px}div#menu2 ul.rMenu li.rMenu-expand li a,div#menu2 ul.rMenu li.rMenu-expand li.rMenu-expand li a,div#menu2 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li a,div#menu2 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li a,div#menu2 ul.rMenu li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li.rMenu-expand li a{background-image:none;padding-right:5px;padding-left:5px}* html ul.rMenu{display:inline-block;display:block;position:relative;position:static}* html ul.rMenu ul{float:left;float:none}ul.rMenu ul{background-color:#fff}* html ul.sub-menu li,* html ul.rMenu-ver li,* html ul.rMenu-hor li ul.sub-menu li,* html ul.rMenu-hor li ul.rMenu-ver li{width:100%;float:left;clear:left}*:first-child+html ul.sub-menu > li:hover ul,*:first-child+html ul.rMenu-ver > li:hover ul{min-width:0}ul.rMenu li a{position:relative;min-width:0}* html ul.rMenu-hor li{width:6em;width:auto}* html div.rMenu-center{position:relative;z-index:1}html:not([lang*=""]) div.rMenu-center ul.rMenu li a:hover{height:100%}html:not([lang*=""]) div.rMenu-center ul.rMenu li a:hover{height:auto}* html ul.rMenu ul{display:block;position:absolute}* html ul.rMenu ul,* html ul.rMenu-hor ul,* html ul.sub-menu ul,* html ul.rMenu-ver ul,* html ul.rMenu-vRight ul,* html ul.rMenu-hRight ul.sub-menu ul,* html ul.rMenu-hRight ul.rMenu-ver ul,* html ul.rMenu-hRight ul{left:-10000px}* html ul.rMenu li.sfhover{z-index:999}* html ul.rMenu li.sfhover ul{left:auto}* html ul.rMenu li.sfhover ul ul,* html ul.rMenu li.sfhover ul ul ul{display:none}* html ul.rMenu li.sfhover ul,* html ul.rMenu li li.sfhover ul,* html ul.rMenu li li li.sfhover ul{display:block}* html ul.sub-menu li.sfhover ul,* html ul.rMenu-ver li.sfhover ul{left:60%}* html ul.rMenu-vRight li.sfhover ul,* html ul.rMenu-hRight ul.sub-menu li.sfhover ul* html ul.rMenu-hRight ul.rMenu-ver li.sfhover ul{left:-60%}* html ul.rMenu iframe{position:absolute;left:0;top:0;z-index:-1}* html ul.rMenu{margin-left:1px}* html ul.rMenu ul,* html ul.rMenu ul ul,* html ul.rMenu ul ul ul,* html ul.rMenu ul ul ul ul{margin-left:0}.clearfix:after{ content:".";display:block;height:0;clear:both;visibility:hidden}.clearfix{min-width:0;display:inline-block;display:block}* html .clearfix{height:1%;}.clearboth{clear:both;height:1%;font-size:1%;line-height:1%;display:block;padding:0;margin:0}h1{font-size:34px;line-height:1.2;margin:0.3em 0 10px;}h2{font-size:28px;line-height:1.3;margin:1em 0 .2em;}h3{font-size:24px;line-height:1.3;margin:1em 0 .2em;}h4{font-size:19px;margin:1.33em 0 .2em;}h5{font-size:1.3em;margin:1.67em 0;font-weight:bold;}h6{font-size:1.15em;margin:1.67em 0;font-weight:bold;}</style>
<script type="text/javascript">
//<![CDATA[



/* JQUERY */
jQuery(document).ready(function(){ 
    
   
  

	/* jQuery('ul#rmenu').superfish(); */
	/* jQuery('ul#rmenu').superfish().find('ul').bgIframe({opacity:false}); */
 
	/* For IE6 */
	if (jQuery.browser.msie && /MSIE 6\.0/i.test(window.navigator.userAgent) && !/MSIE 7\.0/i.test(window.navigator.userAgent) && !/MSIE 8\.0/i.test(window.navigator.userAgent)) {

		/* Max-width for images in IE6 */		
		var centerwidth = jQuery("td#middle").width(); 
		
		/* Images without caption */
		jQuery(".post img").each(function() { 
			var maxwidth = centerwidth - 10 + 'px';
			var imgwidth = jQuery(this).width(); 
			var imgheight = jQuery(this).height(); 
			var newimgheight = (centerwidth / imgwidth * imgheight) + 'px';	
			if (imgwidth > centerwidth) { 
				jQuery(this).css({width: maxwidth}); 
				jQuery(this).css({height: newimgheight}); 
			}
		});
		
		/* Images with caption */
		jQuery("div.wp-caption").each(function() { 
			var captionwidth = jQuery(this).width(); 
			var maxcaptionwidth = centerwidth + 'px';
			var captionheight = jQuery(this).height();
			var captionimgwidth =  jQuery("div.wp-caption img").width();
			var captionimgheight =  jQuery("div.wp-caption img").height();
			if (captionwidth > centerwidth) { 
				jQuery(this).css({width: maxcaptionwidth}); 
				var newcaptionheight = (centerwidth / captionwidth * captionheight) + 'px';
				var newcaptionimgheight = (centerwidth / captionimgwidth * captionimgheight) + 'px';
				jQuery(this).css({height: newcaptionheight}); 
				jQuery("div.wp-caption img").css({height: newcaptionimgheight}); 
				}
		});
		
		/* sfhover for LI:HOVER support in IE6: */
		jQuery("ul li").
			hover( function() {
					jQuery(this).addClass("sfhover")
				}, 
				function() {
					jQuery(this).removeClass("sfhover")
				} 
			); 

	/* End IE6 */
	}
	
	
	
	/* Since 3.7.8: Auto resize videos (embed and iframe elements) 
	TODO: Parse parent's dimensions only once per layout column, not per video
	*/
	function bfa_resize_video() {
		jQuery('embed, iframe').each( function() {
			var video = jQuery(this),
			videoWidth = video.attr('width'); // use the attr here, not width() or css()
			videoParent = video.parent(),
			videoParentWidth = parseFloat( videoParent.css( 'width' ) ),
			videoParentBorder = parseFloat( videoParent.css( 'border-left-width' ) ) 
										+  parseFloat( videoParent.css( 'border-right-width' ) ),
			videoParentPadding = parseFloat( videoParent.css( 'padding-left' ) ) 
										+  parseFloat( videoParent.css( 'padding-right' ) ),
			maxWidth = videoParentWidth - videoParentBorder - videoParentPadding;

			if( videoWidth > maxWidth ) {
				var videoHeight = video.attr('height'),
				videoMaxHeight = ( maxWidth / videoWidth * videoHeight );
				video.attr({ width: maxWidth, height: videoMaxHeight });
			} 

		});	
	}
	bfa_resize_video();
	jQuery(window).resize( bfa_resize_video );

		
	jQuery(".post table tr").
		mouseover(function() {
			jQuery(this).addClass("over");
		}).
		mouseout(function() {
			jQuery(this).removeClass("over");
		});

	
	jQuery(".post table tr:even").
		addClass("alt");

	
	jQuery("input.text, input.TextField, input.file, input.password, textarea").
		focus(function () {  
			jQuery(this).addClass("highlight"); 
		}).
		blur(function () { 
			jQuery(this).removeClass("highlight"); 
		})
	
	jQuery("input.inputblur").
		focus(function () {  
			jQuery(this).addClass("inputfocus"); 
		}).
		blur(function () { 
			jQuery(this).removeClass("inputfocus"); 
		})

		

	
	jQuery("input.button, input.Button, input#submit").
		mouseover(function() {
			jQuery(this).addClass("buttonhover");
		}).
		mouseout(function() {
			jQuery(this).removeClass("buttonhover");
		});

	/* toggle "you can use these xhtml tags" */
	jQuery("a.xhtmltags").
		click(function(){ 
			jQuery("div.xhtml-tags").slideToggle(300); 
		});

	/* For the Tabbed Widgets plugin: */
	jQuery("ul.tw-nav-list").
		addClass("clearfix");

		
	
});

//]]>
</script>
	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>

<!--[if IE 6]>
<script type="text/javascript">DD_roundies.addRule("a.posts-icon, a.comments-icon, a.email-icon, img.logo");</script>
<![endif]-->
</head>
<body class="single single-post postid-259 single-format-standard">
<div id="wrapper">
<div id="container">
<table id="layout" border="0" cellspacing="0" cellpadding="0">
<colgroup>
<col class="colone" /><col class="coltwo" />
<col class="colthree" /></colgroup> 
	<tr>

		<!-- Header -->
		<td id="header" colspan="3">

		<table id="logoarea" cellpadding="0" cellspacing="0" border="0" width="100%"><tr><td rowspan="2" valign="middle" class="logoarea-logo"><a href="http://www.earthinfo.org/"><img class="logo" src="http://www.earthinfo.org/wp-content/ata-images/globe.png" alt="Earth Info" /></a></td><td rowspan="2" valign="middle" class="logoarea-title"><h2 class="blogtitle"><a href="http://www.earthinfo.org/">Earth Info</a></h2><p class="tagline">Down to Earth Information</p></td><td class="feed-icons" valign="middle" align="right"><div class="clearfix rss-box"><a class="comments-icon" href="http://www.earthinfo.org/comments/feed/" title="Subscribe to the COMMENTS feed">Comments</a><a class="posts-icon" href="http://www.earthinfo.org/feed/" title="Subscribe to the POSTS feed">Posts</a></div></td></tr><tr><td valign="bottom" class="search-box" align="right"><div class="searchbox">
					<form method="get" class="searchform" action="http://www.earthinfo.org/">
					<div class="searchbox-form"><input type="text" class="text inputblur" onfocus="this.value=''" 
						value="search" onblur="this.value='search'" name="s" /></div>
					</form>
				</div>
				</td></tr></table> <div class="horbar1">&nbsp;</div> <div id="imagecontainer" class="header-image-container" style="background: url('http://www.earthinfo.org/wp-content/ata-images/header/EarthFromSpace.jpg') top center no-repeat;"><div class="codeoverlay"></div><div class="opacityleft">&nbsp;</div><div class="opacityright">&nbsp;</div></div> <div class="horbar2">&nbsp;</div> <div id="menu1"><ul id="rmenu2" class="clearfix rMenu-hor rMenu">
<li class="page_item"><a href="http://www.earthinfo.org/" title="Earth Info"><span>Home</span></a></li>
<li class="page_item page-item-2"><a href="http://www.earthinfo.org/about/"><span>About</span></a></li>
</ul></div>

		</td>
		<!-- / Header -->

	</tr>

	<!-- Main Body -->	
	<tr id="bodyrow">

				<!-- Left Sidebar -->
		<td id="left">

					<div id="recent-posts-2" class="widget widget_recent_entries">		<div class="widget-title"><h3>Recent Posts</h3></div>		<ul>
					<li>
				<a href="http://www.earthinfo.org/objective-c-correctly-scaling-button-background-images/" title="Objective C &#8211; correctly scaling button &amp; background images">Objective C &#8211; correctly scaling button &#038; background images</a>
						</li>
					<li>
				<a href="http://www.earthinfo.org/dslr-off-camera-flash-study/" title="DSLR Off Camera Flash Study">DSLR Off Camera Flash Study</a>
						</li>
					<li>
				<a href="http://www.earthinfo.org/extract-metadata-from-apple-ipa-files/" title="Extract metadata from Apple IPA files">Extract metadata from Apple IPA files</a>
						</li>
					<li>
				<a href="http://www.earthinfo.org/britannia-1682-dockyard-model-by-colin-morris/" title="Britannia 1682 &#8211; What fool would build a ship that&#8217;s sure to sink">Britannia 1682 &#8211; What fool would build a ship that&#8217;s sure to sink</a>
						</li>
					<li>
				<a href="http://www.earthinfo.org/spider-attack-mad-squid-iphone-game/" title="Spider Attack &#8211; Mad Squid iPhone Game">Spider Attack &#8211; Mad Squid iPhone Game</a>
						</li>
					<li>
				<a href="http://www.earthinfo.org/quick-dirty-fix-to-speed-up-qmail-for-bulk-mailings/" title="Quick dirty fix to speed up qmail for bulk mailings">Quick dirty fix to speed up qmail for bulk mailings</a>
						</li>
					<li>
				<a href="http://www.earthinfo.org/how-much-space-is-all-the-music/" title="How much disk space is &#8220;all&#8221; the music">How much disk space is &#8220;all&#8221; the music</a>
						</li>
					<li>
				<a href="http://www.earthinfo.org/f100-technical-fault-on-meile-w3824wps-washing-machine/" title="F100 Technical Fault on Meile W3824WPS Washing machine">F100 Technical Fault on Meile W3824WPS Washing machine</a>
						</li>
					<li>
				<a href="http://www.earthinfo.org/sqlite-v3-with-php-sample-script/" title="SQLite V3 with PHP &#8211; sample script">SQLite V3 with PHP &#8211; sample script</a>
						</li>
					<li>
				<a href="http://www.earthinfo.org/an-easy-way-to-use-gnu-screen-over-ssh/" title="An easy way to use GNU Screen over SSH">An easy way to use GNU Screen over SSH</a>
						</li>
				</ul>
		</div><div id="categories-412528471" class="widget widget_categories"><div class="widget-title"><h3>Categories</h3></div>		<ul>
	<li class="cat-item cat-item-7"><a href="http://www.earthinfo.org/category/computing/" title="A mix of different computing and programming topics">Computing</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://www.earthinfo.org/category/howto/" title="How-to do various things">How-to</a>
</li>
	<li class="cat-item cat-item-24"><a href="http://www.earthinfo.org/category/computing/linux-command-line-tips/" title="View all posts filed under Linux Command Line Tips">Linux Command Line Tips</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://www.earthinfo.org/category/php/" title="View all posts filed under PHP">PHP</a>
</li>
	<li class="cat-item cat-item-23"><a href="http://www.earthinfo.org/category/product-reviews/" title="Product reviews ">Product Reviews</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://www.earthinfo.org/category/uncategorized/" title="View all posts filed under Uncategorized">Uncategorized</a>
</li>
		</ul>
</div><div id="recent-comments-2" class="widget widget_recent_comments"><div class="widget-title"><h3>Recent Comments</h3></div><ul id="recentcomments"><li class="recentcomments">tony on <a href="http://www.earthinfo.org/samsung-tv-makes-a-strange-clicking-sound/comment-page-34/#comment-183082">Samsung TV makes a strange clicking sound</a></li><li class="recentcomments">Ve on <a href="http://www.earthinfo.org/samsung-tv-makes-a-strange-clicking-sound/comment-page-34/#comment-180079">Samsung TV makes a strange clicking sound</a></li><li class="recentcomments">gliu on <a href="http://www.earthinfo.org/samsung-tv-makes-a-strange-clicking-sound/comment-page-34/#comment-176993">Samsung TV makes a strange clicking sound</a></li><li class="recentcomments">Pete M on <a href="http://www.earthinfo.org/samsung-tv-makes-a-strange-clicking-sound/comment-page-34/#comment-174195">Samsung TV makes a strange clicking sound</a></li><li class="recentcomments">angie on <a href="http://www.earthinfo.org/samsung-tv-makes-a-strange-clicking-sound/comment-page-34/#comment-172816">Samsung TV makes a strange clicking sound</a></li></ul></div><div id="meta-2" class="widget widget_meta"><div class="widget-title"><h3>Meta</h3></div>			<ul>
						<li><a href="http://www.earthinfo.org/wp-login.php">Log in</a></li>
			<li><a href="http://www.earthinfo.org/feed/" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://www.earthinfo.org/comments/feed/" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>						</ul>
</div><div id="text-417522762" class="widget widget_text"><div class="widget-title"><h3>Blog Links</h3></div>			<div class="textwidget"><small>



<a href="http://www.blogrankings.com/technology/"><img style="border:none" src="http://www.blogrankings.com/img_2827.gif" alt="Technology Blogs - Blog Rankings" /></a><br>



<a href="http://www.topblogarea.com/computers/" title="Computers blogs"><img border="0" src="http://www.topblogarea.com/tracker.php?do=in&id=78758" alt="Computers blogs"></a><br>

<a href="http://www.blogged.com/directory/society/culture/regions/asia/thailand">
<img src="http://www.blogged.com/icons/vn_chrism52_1486964.gif" border="0" alt="Thailand Blog Directory" title="Thailand Blog Directory" /></a>
<br>
<a href="http://www.bloghints.com"><img src="http://www.bloghints.com/images/button.gif" alt="Blog Directory" width="80" height="15" border="0" /></a>
</small>


<iframe data-aa='517' src='//ad.a-ads.com/517' scrolling='no' style='width:120px; height:60px; border:0px; padding:0;overflow:hidden' allowtransparency='true'></iframe>

<iframe src="http://bitcoinadvertisers.com/a2.php?p=1EYD1Hs1442kQiW5MfJzmc5e5VfJcSeWsi&a=1&size=2" scrolling="no" style="width:120px;height:600px;border:0"></iframe>

</div>
		</div>
		</td>
		<!-- / Left Sidebar -->
		
				

		<!-- Main Column -->
		<td id="middle">

    
		
		
				<div class="clearfix navigation-top">
		<div class="older">&laquo; <a href="http://www.earthinfo.org/linux-disk-usage-sorted-by-size-and-human-readable/" rel="next">Linux &#8211; disk usage (du) human readable AND sorted by size</a> &nbsp;</div><div class="newer">&nbsp; <a href="http://www.earthinfo.org/earth-info-some-links-about-earth/" rel="prev">Earth Info &#8211; Some links about Earth</a> &raquo;</div></div>				<div class="post-259 post type-post status-publish format-standard hentry category-computing category-php tag-computing tag-php tag-xml tag-xpath odd" id="post-259">
						<div class="post-headline"><h1>XPaths with PHP by example</h1></div>				<div class="post-bodycopy clearfix"><div id="attachment_311" class="wp-caption alignright" style="width: 74px"><img class="size-full wp-image-311" title="php" src="http://www.earthinfo.org/wp-content/uploads/2009/05/php.png" alt="PHP" width="64" height="34" /><p class="wp-caption-text">PHP</p></div>
<h1>A guide to using XPath with PHP to scrape web pages.</h1>
<p>XPath is a little bit like a SQL `select` query for XML documents. Essentially you can query an XML document with a string, and a list of matches are returned.<br />
After learning about using PHP with XPaths I was initially going to write an article on how to scrape a web page. I Intended to expand on something like this short piece of code, which grabs the bbc.co.uk home page and extracts the contents of the title tag.</p>
<pre class="php">$html = new DOMDocument();
@$html-&gt;loadHtmlFile('http://www.bbc.co.uk');
$xpath = new DOMXPath( $html );
$nodelist = $xpath-&gt;query( "//title" );
foreach ($nodelist as $n){
echo $n-&gt;nodeValue."\n";
}</pre>
<p>The above code simply returns<br />
<code>BBC - Homepage</code></p>
<p>Some pretty good tutorials have already been written, and if you are new to XPath with PHP, you might want to take a look at them even if you&#8217;re away from your PC &#8211; just absorbing a few techniques and tips on your <a style="color: #cc0000; text-decoration: underline;" href="http://shop.o2.co.uk/new-iphone/index.html">iphone 4</a> while commuting will benefit your php and XPath skills.</p>
<p><a href="http://www.metatitan.com/php/27/how-to-build-a-scraper-using-php-curl.html">http://www.metatitan.com/php/27/how-to-build-a-scraper-using-php-curl.html</a><br />
<a href="http://www.merchantos.com/makebeta/php/scraping-links-with-php/">http://www.merchantos.com/makebeta/php/scraping-links-with-php/</a></p>
<p>However, these tutorials are only the beginning, the real fun comes when you try to create your queries. Many tutorials approach XPath from an XML point of view (which is of course what it is designed for) but I have used it for mainly for scraping HTML web pages, and so my examples are designed with that task in mind.</p>
<p><span id="more-259"></span></p>
<h2>Tools</h2>
<p>There are some tools to assist you, but I&#8217;ve found the XPath queries they create, don&#8217;t always work with modification when running them against HTML. But these tools are a great way to get a feel for XPath queries, and they also will help your break down the more complex scrapes into a query.<br />
Firefox has a couple of plugins</p>
<ul>
<li>Xpather &#8211; https://addons.mozilla.org/en-US/firefox/addon/1192</li>
<li>Xpath &#8211; https://addons.mozilla.org/en-US/firefox/addon/1095</li>
</ul>
<p>Once installed both of these plugins allow you to select an area of text in a web page, then right click, and from the popup menu select the plugin, this will pop-up a window with the calculated Xpath you need to access the selected data.</p>
<p>As I said before these queries often don&#8217;t work when dropped into PHP, the most common problem are unecessary &lt;tbody&gt; tags. Simply strip them out of the query (by removing &#8220;/tbody&#8221;)</p>
<h2>Examples</h2>
<h3>Test page:</h3>
<p>This is the test page I am using, see the code at the bottom if you want to test the examples as we take each one in turn.</p>
<div style="background-color: #e0ffe0; font: terminal; color: black;">&lt;html&gt;<br />
&lt;head&gt;<br />
&lt;title&gt;A test page&lt;/title&gt;<br />
&lt;/head&gt;<br />
&lt;body&gt;<br />
&lt;div id=part1&gt;<br />
Part1<br />
&lt;b&gt;First - Part1&lt;/b&gt;<br />
&lt;b&gt;Second - Part1&lt;/b&gt;<br />
&lt;/div&gt;&lt;div id=part2&gt;<br />
Part2<br />
&lt;b&gt;First - Part2&lt;/b&gt;<br />
&lt;b&gt;Second - Part2&lt;/b&gt;<br />
&lt;a href=&#8221;http://www.yahoo.com&#8221;&gt;yahoo&lt;/a&gt;<br />
&lt;a href=&#8221;http://www.bbc.co.uk&#8221;&gt;bbc&lt;/a&gt;<br />
&lt;a href=&#8221;http://www.google.com&#8221;&gt;google&lt;/a&gt;<br />
&lt;/div&gt;</p>
<p>&lt;div&gt;<br />
Part3<br />
&lt;/div&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;</p>
</div>
<ul>
<li>Match a specific tag with it&#8217;s exact path.</li>
</ul>
<p>To match the title, we can reference it using use the absolute path, the XPath query we use is:</p>
<pre style="background-color: #e0e0ff; font: terminal; color: black;">/html/head/title</pre>
<p>When run in the test program (see Trying it Yourself below) the red parts of the code below are returned.</p>
<div style="background-color: #e0ffe0; font: terminal; color: black;">&lt;html&gt;<br />
&lt;head&gt;<br />
&lt;title&gt;<span style="background-color: #ff0000; color: white;">A test page</span>&lt;/title&gt;<br />
&lt;/head&gt;<br />
&lt;body&gt;<br />
&lt;div id=part1&gt;<br />
Part1<br />
&lt;b&gt;First - Part1&lt;/b&gt;<br />
&lt;b&gt;Second - Part1&lt;/b&gt;<br />
&lt;/div&gt;&lt;div id=part2&gt;<br />
Part2<br />
&lt;b&gt;First - Part2&lt;/b&gt;<br />
&lt;b&gt;Second - Part2&lt;/b&gt;<br />
&lt;a href=&#8221;http://www.yahoo.com&#8221;&gt;yahoo&lt;/a&gt;<br />
&lt;a href=&#8221;http://www.bbc.co.uk&#8221;&gt;bbc&lt;/a&gt;<br />
&lt;a href=&#8221;http://www.google.com&#8221;&gt;google&lt;/a&gt;<br />
&lt;/div&gt;</p>
<p>&lt;div&gt;<br />
Part3<br />
&lt;/div&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;</p>
</div>
<ul>
<li>Extract all matches no matter where they are</li>
</ul>
<p>We can match the title also in this way</p>
<pre style="background-color: #e0e0ff; font: terminal; color: black;">//title</pre>
<p>which returns all the title tags in the entire page (in this case there is only 1 of course), so the output is the same as example 1</p>
<p>Extract all the bold tags inside the body</p>
<pre style="background-color: #e0e0ff; font: terminal; color: black;">//body//b</pre>
<div style="background-color: #e0ffe0; font: terminal; color: black;">&lt;html&gt;<br />
&lt;head&gt;<br />
&lt;title&gt;A test page&lt;/title&gt;<br />
&lt;/head&gt;<br />
&lt;body&gt;<br />
&lt;div id=part1&gt;<br />
Part1<br />
&lt;b&gt;<span style="background-color: #ff0000; color: white;">First - Part1</span>&lt;/b&gt;<br />
&lt;b&gt;<span style="background-color: #ff0000; color: white;">Second - Part1</span>&lt;/b&gt;<br />
&lt;/div&gt;&lt;div id=part2&gt;<br />
Part2<br />
&lt;b&gt;<span style="background-color: #ff0000; color: white;">First - Part2</span>&lt;/b&gt;<br />
&lt;b&gt;<span style="background-color: #ff0000; color: white;">Second - Part2</span>&lt;/b&gt;<br />
&lt;a href=&#8221;http://www.yahoo.com&#8221;&gt;yahoo&lt;/a&gt;<br />
&lt;a href=&#8221;http://www.bbc.co.uk&#8221;&gt;bbc&lt;/a&gt;<br />
&lt;a href=&#8221;http://www.google.com&#8221;&gt;google&lt;/a&gt;<br />
&lt;/div&gt;</p>
<p>&lt;div&gt;<br />
Part3<br />
&lt;/div&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;</p>
</div>
<ul>
<li>Reference a specific instance of a tag</li>
</ul>
<p>Extract the second instances of the &lt;b&gt; tags.</p>
<pre style="background-color: #e0e0ff; font: terminal; color: black;">//b[2]</pre>
<div style="background-color: #e0ffe0; font: terminal; color: black;">&lt;html&gt;<br />
&lt;head&gt;<br />
&lt;title&gt;A test page&lt;/title&gt;<br />
&lt;/head&gt;<br />
&lt;body&gt;<br />
&lt;div id=part1&gt;<br />
Part1<br />
&lt;b&gt;First - Part1&lt;/b&gt;<br />
&lt;b&gt;<span style="background-color: #ff0000; color: white;">Second - Part1</span>&lt;/b&gt;<br />
&lt;/div&gt;&lt;div id=part2&gt;<br />
Part2<br />
&lt;b&gt;First - Part2&lt;/b&gt;<br />
&lt;b&gt;<span style="background-color: #ff0000; color: white;">Second - Part2</span>&lt;/b&gt;<br />
&lt;a href=&#8221;http://www.yahoo.com&#8221;&gt;yahoo&lt;/a&gt;<br />
&lt;a href=&#8221;http://www.bbc.co.uk&#8221;&gt;bbc&lt;/a&gt;<br />
&lt;a href=&#8221;http://www.google.com&#8221;&gt;google&lt;/a&gt;<br />
&lt;/div&gt;</p>
<p>&lt;div&gt;<br />
Part3<br />
&lt;/div&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;</p>
</div>
<p>Note: this will retrieve two results, as there are 2 second instances, one in the Part1 div and another in the Part2 div.</p>
<ul>
<li>Match tags based on their attributes</li>
</ul>
<p>Extract all the bold tags inside the div named part2</p>
<pre style="background-color: #e0e0ff; font: terminal; color: black;">/html/body/div[@id='part2']/b</pre>
<div style="background-color: #e0ffe0; font: terminal; color: black;">&lt;html&gt;<br />
&lt;head&gt;<br />
&lt;title&gt;A test page&lt;/title&gt;<br />
&lt;/head&gt;<br />
&lt;body&gt;<br />
&lt;div id=part1&gt;<br />
Part1<br />
&lt;b&gt;First - Part1&lt;/b&gt;<br />
&lt;b&gt;Second - Part1&lt;/b&gt;<br />
&lt;/div&gt;&lt;div id=part2&gt;<br />
Part2<br />
&lt;b&gt;<span style="background-color: #ff0000; color: white;">First - Part2</span>&lt;/b&gt;<br />
&lt;b&gt;<span style="background-color: #ff0000; color: white;">Second - Part2</span>&lt;/b&gt;<br />
&lt;a href=&#8221;http://www.yahoo.com&#8221;&gt;yahoo&lt;/a&gt;<br />
&lt;a href=&#8221;http://www.bbc.co.uk&#8221;&gt;bbc&lt;/a&gt;<br />
&lt;a href=&#8221;http://www.google.com&#8221;&gt;google&lt;/a&gt;<br />
&lt;/div&gt;</p>
<p>&lt;div&gt;<br />
Part3<br />
&lt;/div&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;</p>
</div>
<p>There is only one instance of &lt;div id=part1&gt; so we can shorten that to</p>
<pre style="background-color: #e0e0ff; font: terminal; color: black;">//div[@id='part1']/b</pre>
<p>Which will produce exactly the same result.<br />
As you can see, we use [@attribute=value] to specify tags that have tag atributes with specific values</p>
<ul>
<li>Extract the 3rd link in the part2 div</li>
</ul>
<pre style="background-color: #e0e0ff; font: terminal; color: black;">//div[@id='part2']/a[3]</pre>
<p>This query will return the 3rd link in the div labelled with ID=part2, which is the text &#8220;google&#8221;. Sometimes however we want to match the value of the href attribute of the Anchor tag. To do this we use &#8220;@attribute&#8221;</p>
<pre style="background-color: #e0e0ff; font: terminal; color: black;">//div[@id='part2']/a[3]/@href</pre>
<div style="background-color: #e0ffe0; font: terminal; color: black;">&lt;html&gt;<br />
&lt;head&gt;<br />
&lt;title&gt;A test page&lt;/title&gt;<br />
&lt;/head&gt;<br />
&lt;body&gt;<br />
&lt;div id=part1&gt;<br />
Part1<br />
&lt;b&gt;First - Part1&lt;/b&gt;<br />
&lt;b&gt;Second - Part1&lt;/b&gt;<br />
&lt;/div&gt;&lt;div id=part2&gt;<br />
Part2<br />
&lt;b&gt;First - Part2&lt;/b&gt;<br />
&lt;b&gt;Second - Part2&lt;/b&gt;<br />
&lt;a href=&#8221;http://www.yahoo.com&#8221;&gt;yahoo&lt;/a&gt;<br />
&lt;a href=&#8221;http://www.bbc.co.uk&#8221;&gt;bbc&lt;/a&gt;<br />
&lt;a href=&#8221;<span style="background-color: #ff0000; color: white;">http://www.google.com</span>&#8220;&gt;google&lt;/a&gt;<br />
&lt;/div&gt;</p>
<p>&lt;div&gt;<br />
Part3<br />
&lt;/div&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;</p>
</div>
<p>which now gives us the link address itself &#8220;http://www.google.com&#8221;</p>
<ul>
<li>Extract any divs which don&#8217;t have any id parameter set</li>
</ul>
<p>We can use the &#8220;not&#8221; keyword to match all divs which do not have an id attribute.</p>
<pre style="background-color: #e0e0ff; font: terminal; color: black;">//div[not(@id)]</pre>
<div style="background-color: #e0ffe0; font: terminal; color: black;">&lt;html&gt;<br />
&lt;head&gt;<br />
&lt;title&gt;A test page&lt;/title&gt;<br />
&lt;/head&gt;<br />
&lt;body&gt;<br />
&lt;div id=part1&gt;<br />
Part1<br />
&lt;b&gt;First - Part1&lt;/b&gt;<br />
&lt;b&gt;Second - Part1&lt;/b&gt;<br />
&lt;/div&gt;&lt;div id=part2&gt;<br />
Part2<br />
&lt;b&gt;First - Part2&lt;/b&gt;<br />
&lt;b&gt;Second - Part2&lt;/b&gt;<br />
&lt;a href=&#8221;http://www.yahoo.com&#8221;&gt;yahoo&lt;/a&gt;<br />
&lt;a href=&#8221;http://www.bbc.co.uk&#8221;&gt;bbc&lt;/a&gt;<br />
&lt;a href=&#8221;http://www.google.com&#8221;&gt;google&lt;/a&gt;<br />
&lt;/div&gt;</p>
<p>&lt;div&gt;<br />
<span style="background-color: #ff0000; color: white;">Part3</span><br />
&lt;/div&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;</p>
</div>
<ul>
<li>Combining paths with &#8220;|&#8221; the or operator</li>
</ul>
<p>Here we use the pipe &#8220;|&#8221; to join together two queries. So to get the divs with id=part1 and the div without an id attirbute use:</p>
<pre style="background-color: #e0e0ff; font: terminal; color: black;">//div[not(@id)]|//div[@id='part1']</pre>
<div style="background-color: #e0ffe0; font: terminal; color: black;">&lt;html&gt;<br />
&lt;head&gt;<br />
&lt;title&gt;A test page&lt;/title&gt;<br />
&lt;/head&gt;<br />
&lt;body&gt;<br />
&lt;div id=part1&gt;<br />
Part1<br />
&lt;b&gt;<span style="background-color: #ff0000; color: white;">First - Part1</span>&lt;/b&gt;<br />
&lt;b&gt;<span style="background-color: #ff0000; color: white;">Second - Part1</span>&lt;/b&gt;<br />
&lt;/div&gt;&lt;div id=part2&gt;<br />
Part2<br />
&lt;b&gt;First - Part2&lt;/b&gt;<br />
&lt;b&gt;Second - Part2&lt;/b&gt;<br />
&lt;a href=&#8221;http://www.yahoo.com&#8221;&gt;yahoo&lt;/a&gt;<br />
&lt;a href=&#8221;http://www.bbc.co.uk&#8221;&gt;bbc&lt;/a&gt;<br />
&lt;a href=&#8221;http://www.google.com&#8221;&gt;google&lt;/a&gt;<br />
&lt;/div&gt;</p>
<p>&lt;div&gt;<br />
<span style="background-color: #ff0000; color: white;">Part3</span><br />
&lt;/div&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;</p>
</div>
<h2>Trying it yourself</h2>
<p>You can test the examples using this code (change the query on line 30)</p>
<pre class="php">$html='
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;A test page&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;</pre>
<div id="part1">Part1 <strong>First &#8211; Part1</strong> <strong>Second &#8211; Part1</strong></div>
<div id="part2">Part2 <strong>First &#8211; Part2</strong> <strong>Second &#8211; Part2</strong> <a href="http://www.yahoo.com">yahoo</a> <a href="http://www.bbc.co.uk">bbc</a> <a href="http://www.google.com">google</a></div>
<div>Part3</div>
<pre class="php">&lt;/body&gt;
&lt;/html&gt;';  

$htmlDoc = new DomDocument();
@$htmlDoc-&gt;loadhtml($html);
$xpath = new DOMXPath( $htmlDoc );
$nodelist = $xpath-&gt;query( "//title" );
foreach ($nodelist as $n){
    echo $n-&gt;nodeValue."\n";
}</pre>
<h2>Using the tools</h2>
<p>Like I said in the beginning, the tools (such as the Firefox plugins) can make life easier but the XPath queries they produce don&#8217;t always work without some modifications. This is most probably because the HTML in the pages we are creating the queries for, is not properly formed XML.</p>
<p>But they are still helpful, and I often use the queries they produced as a starting point. I then chop out most of the inital parts of the query and use the last few bits.<br />
So when a query produced by Xpather looks like this</p>
<pre style="background-color: #e0e0ff; font: terminal; color: black;">/html/body/div[2]/div[2]/div[5]/div/div[1]/div[2]/div/table/tbody/tr[2]/td[2]/p</pre>
<p>trim it back to the last few chars and add another / at the beginning</p>
<pre style="background-color: #e0e0ff; font: terminal; color: black;">//tr[2]/td[2]/p</pre>
<p>If this doesn&#8217;t produce a unique match we can re-add in a few more characters to referece a specific numerical instance, so if the query produces 3 results and we only want the second, we should reference it by putting [2] at the end of the query, like this.</p>
<pre style="background-color: #e0e0ff; font: terminal; color: black;">//tr[2]/td[2]/p[2]</pre>
<p>Just using these basic examples are most probably all you will need to extract data from a web page. Here are a few pages to deepen your knowledge.</p>
<ul>
<li><a href="http://www.zvon.org/xxl/XPathTutorial/General/examples.html">http://www.zvon.org/xxl/XPathTutorial/General/examples.html</a></li>
<li><a href="http://www.w3schools.com/Xpath/default.asp">http://www.w3schools.com/Xpath/default.asp</a></li>
</ul>
<p class="buymebeer"><form action="https://www.paypal.com/cgi-bin/webscr" target="paypal" method="post"><input type="hidden" name="cmd" value="_xclick" /><input type="hidden" name="business" value="chris@morris.net" /><input type="hidden" name="return" value="Many thanks" /><input type="hidden" name="item_name" value="Buy me a coffee for XPaths with PHP by example " /><input type="hidden" name="currency_code" value="GBP" /><input type="hidden" name="amount" value="" /><input type="image" src="http://www.earthinfo.org/wp-content/plugins/buy-me-beer/icon_cafe.gif" align="left" alt="" title="" hspace="3" /></form><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=chris@morris.net&amp;currency_code=GBP&amp;amount=&amp;return=Many thanks&amp;item_name=Buy+me+a+coffee+for+XPaths+with+PHP+by+example+" target="paypal">If this has been useful to you, and you would like to buy me a coffee, or help towards my monthly server costs please click here to make a donation via paypal. </a></p><!-- Social Bookmarks BEGIN -->
<div class="social_bookmark">
<a title="Click me to see the sites." href="#" onclick="$$('div.d259').each( function(e) { e.visualEffect('slide_down',{duration:2.5}) }); return false;"><strong><em>Social Networking</em></strong></a>
<br />
<div class="d259" style="overflow:hidden">
<br />
<a onclick="window.open(this.href, '_blank', 'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no'); return false;" href="http://buzz.yahoo.com/submit?submitUrl=http%3A%2F%2Fwww.earthinfo.org%2Fxpaths-with-php-by-example%2F&amp;submitHeadline=XPaths+with+PHP+by+example&amp;submitSummary=" rel="nofollow" title="Add to&nbsp;Buzz"><img class="social_img" src="http://www.earthinfo.org/wp-content/plugins/social-bookmarks/images/buzz.png" title="Add to&nbsp;Buzz" alt="Add to&nbsp;Buzz" /></a>
<a onclick="window.open(this.href, '_blank', 'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no'); return false;" href="http://del.icio.us/post?url=http%3A%2F%2Fwww.earthinfo.org%2Fxpaths-with-php-by-example%2F&amp;title=XPaths+with+PHP+by+example" rel="nofollow" title="Add to&nbsp;Del.icio.us"><img class="social_img" src="http://www.earthinfo.org/wp-content/plugins/social-bookmarks/images/delicious.png" title="Add to&nbsp;Del.icio.us" alt="Add to&nbsp;Del.icio.us" /></a>
<a onclick="window.open(this.href, '_blank', 'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no'); return false;" href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fwww.earthinfo.org%2Fxpaths-with-php-by-example%2F&amp;title=XPaths+with+PHP+by+example" rel="nofollow" title="Add to&nbsp;digg"><img class="social_img" src="http://www.earthinfo.org/wp-content/plugins/social-bookmarks/images/digg.png" title="Add to&nbsp;digg" alt="Add to&nbsp;digg" /></a>
<a onclick="window.open(this.href, '_blank', 'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no'); return false;" href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fwww.earthinfo.org%2Fxpaths-with-php-by-example%2F" rel="nofollow" title="Add to&nbsp;Facebook"><img class="social_img" src="http://www.earthinfo.org/wp-content/plugins/social-bookmarks/images/facebook.png" title="Add to&nbsp;Facebook" alt="Add to&nbsp;Facebook" /></a>
<a onclick="window.open(this.href, '_blank', 'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no'); return false;" href="http://www.google.com/bookmarks/mark?op=edit&amp;output=popup&amp;bkmk=http%3A%2F%2Fwww.earthinfo.org%2Fxpaths-with-php-by-example%2F&amp;title=XPaths+with+PHP+by+example" rel="nofollow" title="Add to&nbsp;Google Bookmarks"><img class="social_img" src="http://www.earthinfo.org/wp-content/plugins/social-bookmarks/images/google.png" title="Add to&nbsp;Google Bookmarks" alt="Add to&nbsp;Google Bookmarks" /></a>
<br />
<a onclick="window.open(this.href, '_blank', 'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no'); return false;" href="http://www.mister-wong.com/index.php?action=addurl&amp;bm_url=http%3A%2F%2Fwww.earthinfo.org%2Fxpaths-with-php-by-example%2F&amp;bm_description=XPaths+with+PHP+by+example" rel="nofollow" title="Add to&nbsp;Mister Wong"><img class="social_img" src="http://www.earthinfo.org/wp-content/plugins/social-bookmarks/images/misterwong.png" title="Add to&nbsp;Mister Wong" alt="Add to&nbsp;Mister Wong" /></a>
<a onclick="window.open(this.href, '_blank', 'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no'); return false;" href="http://www.netscape.com/submit/?U=http%3A%2F%2Fwww.earthinfo.org%2Fxpaths-with-php-by-example%2F&amp;T=XPaths+with+PHP+by+example" rel="nofollow" title="Add to&nbsp;Netscape"><img class="social_img" src="http://www.earthinfo.org/wp-content/plugins/social-bookmarks/images/netscape.png" title="Add to&nbsp;Netscape" alt="Add to&nbsp;Netscape" /></a>
<a onclick="window.open(this.href, '_blank', 'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no'); return false;" href="http://reddit.com/submit?url=http%3A%2F%2Fwww.earthinfo.org%2Fxpaths-with-php-by-example%2F&amp;title=XPaths+with+PHP+by+example" rel="nofollow" title="Add to&nbsp;reddit"><img class="social_img" src="http://www.earthinfo.org/wp-content/plugins/social-bookmarks/images/reddit.png" title="Add to&nbsp;reddit" alt="Add to&nbsp;reddit" /></a>
<a onclick="window.open(this.href, '_blank', 'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no'); return false;" href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fwww.earthinfo.org%2Fxpaths-with-php-by-example%2F&amp;title=XPaths+with+PHP+by+example" rel="nofollow" title="Add to&nbsp;Stumble Upon"><img class="social_img" src="http://www.earthinfo.org/wp-content/plugins/social-bookmarks/images/stumbleupon.png" title="Add to&nbsp;Stumble Upon" alt="Add to&nbsp;Stumble Upon" /></a>
<a onclick="window.open(this.href, '_blank', 'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no'); return false;" href="http://www.technorati.com/faves?add=http%3A%2F%2Fwww.earthinfo.org%2Fxpaths-with-php-by-example%2F" rel="nofollow" title="Add to&nbsp;Technorati"><img class="social_img" src="http://www.earthinfo.org/wp-content/plugins/social-bookmarks/images/technorati.png" title="Add to&nbsp;Technorati" alt="Add to&nbsp;Technorati" /></a>
<br />
<a onclick="window.open(this.href, '_blank', 'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no'); return false;" href="http://tipd.com/submit.php?url=http%3A%2F%2Fwww.earthinfo.org%2Fxpaths-with-php-by-example%2F" rel="nofollow" title="Add to&nbsp;Tip'd"><img class="social_img" src="http://www.earthinfo.org/wp-content/plugins/social-bookmarks/images/tipd.png" title="Add to&nbsp;Tip'd" alt="Add to&nbsp;Tip'd" /></a>
<a onclick="window.open(this.href, '_blank', 'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no'); return false;" href="http://twitter.com/home/?status=Check+out+XPaths+with+PHP+by+example+@+http%3A%2F%2Fwww.earthinfo.org%2Fxpaths-with-php-by-example%2F" rel="nofollow" title="Add to&nbsp;Twitter"><img class="social_img" src="http://www.earthinfo.org/wp-content/plugins/social-bookmarks/images/twitter.png" title="Add to&nbsp;Twitter" alt="Add to&nbsp;Twitter" /></a>
<a onclick="window.open(this.href, '_blank', 'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no'); return false;" href="http://myweb2.search.yahoo.com/myresults/bookmarklet?u=http%3A%2F%2Fwww.earthinfo.org%2Fxpaths-with-php-by-example%2F&amp;t=XPaths+with+PHP+by+example" rel="nofollow" title="Add to&nbsp;Yahoo My Web"><img class="social_img" src="http://www.earthinfo.org/wp-content/plugins/social-bookmarks/images/yahoo.png" title="Add to&nbsp;Yahoo My Web" alt="Add to&nbsp;Yahoo My Web" /></a>
<br />
<a style="font-size:90%;text-align: right; " title="Click me to hide the sites." href="#" onclick="$$('div.d259').each( function(e) { e.visualEffect('slide_up',{duration:0.5}) }); return false;">Hide Sites</a>
</div>
</div>
<!-- Social Bookmarks END -->
<script type="text/javascript">$$('div.d259').each( function(e) { e.visualEffect('slide_up',{duration:0.5}) }); </script></div>						<div class="post-footer">May 6th, 2009 | Tags: <a href="http://www.earthinfo.org/tag/computing/" rel="tag">Computing</a>, <a href="http://www.earthinfo.org/tag/php/" rel="tag">PHP</a>, <a href="http://www.earthinfo.org/tag/xml/" rel="tag">XML</a>, <a href="http://www.earthinfo.org/tag/xpath/" rel="tag">XPath</a> |  Category: <a href="http://www.earthinfo.org/category/computing/" title="View all posts in Computing" rel="category tag">Computing</a>, <a href="http://www.earthinfo.org/category/php/" title="View all posts in PHP" rel="category tag">PHP</a> </div>		</div><!-- / Post -->	
						
	
			

	<a name="comments"></a><!-- named anchor for skip links -->
	<h3 id="comments">8 comments to XPaths with PHP by example</h3>

	
	<!-- Comment List -->
	<ul class="commentlist">
		
			<li class="pingback even thread-even depth-1 clearfix" id="comment-317">
		<div id="div-comment-317" class="clearfix comment-container">
		<div class="comment-author vcard">
				<span class="authorname"><a href='http://www.proft.com.ua/serfim-po-xhtmlxml-s-pomoshhyu-xpath-i-php/' rel='external nofollow' class='url'>Серфим по XHTML/XML с помощью XPath и PHP &raquo; proft.com.ua [Блог о Web, IT, life]</a></span>
		</div>
				<div class="comment-meta commentmetadata">
		<a href="http://www.earthinfo.org/xpaths-with-php-by-example/comment-page-1/#comment-317">
		July 14, 2009 at 9:57 am</a>
        		 
		</div>
		<p>[...] XPath Tutorial &#8211; Advanced XML Part 1 A guide to using XPath with PHP to scrape web pages Web scraping with PHP and XPath Примеры по DOMDocument и DOMXPath Хорошее [...]</p>
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 clearfix" id="comment-3571">
		<div id="div-comment-3571" class="clearfix comment-container">
		<div class="comment-author vcard">
		<img alt='' src='http://0.gravatar.com/avatar/82318c538186ad6dc381c6d1e870a46b?s=55&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D55&amp;r=X' class='avatar avatar-55 photo' height='55' width='55' />		<span class="authorname">alin</span>
		</div>
				<div class="comment-meta commentmetadata">
		<a href="http://www.earthinfo.org/xpaths-with-php-by-example/comment-page-1/#comment-3571">
		May 20, 2010 at 9:10 am</a>
        		 
		</div>
		<p>my Xpath expression for a value from web is : </p>
<p>/html/body/div[@id='jive-forumpage']/table[3]/tbody/tr/td[1]/div[1]/div/table/tbody/tr[1]/td[3]/a[@id='jive-thread-1']</p>
<p>i can not query it. muss i remove tbody ?</p>
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 clearfix" id="comment-5299">
		<div id="div-comment-5299" class="clearfix comment-container">
		<div class="comment-author vcard">
		<img alt='' src='http://0.gravatar.com/avatar/245db7ed451e0687c56f9e84c9da762d?s=55&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D55&amp;r=X' class='avatar avatar-55 photo' height='55' width='55' />		<span class="authorname"><a href='http://michaelphipps.com' rel='external nofollow' class='url'>Michael</a></span>
		</div>
				<div class="comment-meta commentmetadata">
		<a href="http://www.earthinfo.org/xpaths-with-php-by-example/comment-page-1/#comment-5299">
		July 24, 2010 at 1:24 pm</a>
        		 
		</div>
		<p>Thank you for writing this.  It helped me work out how to use DOMXPath!</p>
<p>I wanted to extract an rss feed from a html document if it existed.  Here&#8217;s what I came up with:</p>
<p>$html = new DOMDocument();<br />
@$html-&gt;loadHtmlFile(&#8216;http://www.example.com&#8217;);<br />
$xpath = new DOMXPath( $html );<br />
$nodelist = $xpath-&gt;query( &#8220;//link[@rel='alternate']/@href&#8221; );<br />
foreach ($nodelist as $n){<br />
echo $n-&gt;nodeValue.&#8221;\n&#8221;;<br />
}</p>
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 clearfix" id="comment-32753">
		<div id="div-comment-32753" class="clearfix comment-container">
		<div class="comment-author vcard">
		<img alt='' src='http://1.gravatar.com/avatar/18d06fc958a7e5e2ba7f8461546780ed?s=55&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D55&amp;r=X' class='avatar avatar-55 photo' height='55' width='55' />		<span class="authorname">Christian</span>
		</div>
				<div class="comment-meta commentmetadata">
		<a href="http://www.earthinfo.org/xpaths-with-php-by-example/comment-page-1/#comment-32753">
		May 12, 2011 at 11:20 pm</a>
        		 
		</div>
		<p>Thanks for the great article&#8230; i have been playing with this for hours and yours is the only example that talks about trimming back the xpath query and removing the front elements&#8230; this worked a treat first time! Thanks you saved me hours of work&#8230;</p>
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 clearfix" id="comment-47482">
		<div id="div-comment-47482" class="clearfix comment-container">
		<div class="comment-author vcard">
		<img alt='' src='http://1.gravatar.com/avatar/bc3923a2fa4945cad853d02623c043e1?s=55&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D55&amp;r=X' class='avatar avatar-55 photo' height='55' width='55' />		<span class="authorname">George Hafiz</span>
		</div>
				<div class="comment-meta commentmetadata">
		<a href="http://www.earthinfo.org/xpaths-with-php-by-example/comment-page-1/#comment-47482">
		September 23, 2011 at 2:30 pm</a>
        		 
		</div>
		<p>I used this for a little project to have at work &#8211; a live webcam image of the skyline across my city along with the current temperature, scraped from the met office website. Because the table grows throughout the day to display the temperature by hour, I wanted a position relative to the end of the table.</p>
<p>The <b>penultimate</b> row (one before last) contained the cell with the latest temperature in. Accessing relative positions is easy in XPath!</p>
<p><a href="http://www.metoffice.gov.uk/weather/uk/se/solent_latest_temp.html" rel="nofollow">http://www.metoffice.gov.uk/weather/uk/se/solent_latest_temp.html</a></p>
<p>$xpath-&gt;query(&#8220;((//div[@id='obsTable']/table/tr)[last()-1])/td[3]&#8220;);</p>
<p>This finds the div with id &#8216;obsTable&#8217; and selects the fourth cell of the &#8216;<b>last &#8211; 1`th</b>&#8216; row. Job done!</p>
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 clearfix" id="comment-74253">
		<div id="div-comment-74253" class="clearfix comment-container">
		<div class="comment-author vcard">
		<img alt='' src='http://0.gravatar.com/avatar/4a484e3e5edde242e45d7d5d8b75fec8?s=55&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D55&amp;r=X' class='avatar avatar-55 photo' height='55' width='55' />		<span class="authorname">Filip</span>
		</div>
				<div class="comment-meta commentmetadata">
		<a href="http://www.earthinfo.org/xpaths-with-php-by-example/comment-page-1/#comment-74253">
		March 20, 2012 at 5:01 pm</a>
        		 
		</div>
		<p>Many thanks for this!!!</p>
<p>&#8220;As I said before these queries often don’t work when dropped into PHP, the most common problem are unecessary  tags. Simply strip them out of the query (by removing “/tbody”)&#8221;</p>
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 clearfix" id="comment-106123">
		<div id="div-comment-106123" class="clearfix comment-container">
		<div class="comment-author vcard">
		<img alt='' src='http://1.gravatar.com/avatar/be3a3a88a733d499a1fcc24227e9e04e?s=55&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D55&amp;r=X' class='avatar avatar-55 photo' height='55' width='55' />		<span class="authorname">Vic</span>
		</div>
				<div class="comment-meta commentmetadata">
		<a href="http://www.earthinfo.org/xpaths-with-php-by-example/comment-page-1/#comment-106123">
		August 11, 2012 at 10:37 am</a>
        		 
		</div>
		<p>Very clean and nice article&#8230;thanks. </p>
<p>In paragraph 7, Combining paths with “|” the or operator.</p>
<p>&#8220;So to get the divs with id=part2 and the div without an id attirbute use&#8221;&#8230;I think it&#8217;s &#8220;with id=part1&#8243;. </p>
<p>Thanks again for this great article.</p>
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-chris bypostauthor odd alt thread-odd thread-alt depth-1 clearfix" id="comment-106169">
		<div id="div-comment-106169" class="clearfix comment-container bypostauthor">
		<div class="comment-author vcard">
		<img alt='' src='http://1.gravatar.com/avatar/9d60214993f528937fa94250375b4f20?s=55&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D55&amp;r=X' class='avatar avatar-55 photo' height='55' width='55' />		<span class="authorname"><a href='http://www.earthinfo.org' rel='external nofollow' class='url'>Chris Morris</a></span>
		</div>
				<div class="comment-meta commentmetadata">
		<a href="http://www.earthinfo.org/xpaths-with-php-by-example/comment-page-1/#comment-106169">
		August 11, 2012 at 5:45 pm</a>
        		 
		</div>
		<p>Thanks Vic, I&#8217;ve corrected the article with the mistake you found.<br />
I&#8217;m glad you found it useful.</p>
		</div>
</li><!-- #comment-## -->
	
	</ul>
	<!-- / Comment List -->

	



								<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/xpaths-with-php-by-example/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://www.earthinfo.org/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																										<p><input class="text author" id="author" name="author" type="text" value="" size="30" tabindex="1" />&nbsp;&nbsp;<label for="author"><strong>Name </strong> (required)</label></p>
<p><input class="text email" id="email" name="email" type="text" value="" size="30"  tabindex="2" />&nbsp;&nbsp;<label for="email"><strong>Email</strong> (will not be published) (required)</label></p>
<p><input class="text url" id="url" name="url" type="text" value="" size="30"  tabindex="3" />&nbsp;&nbsp;<label for="url">Website</label></p>
												<p><textarea name="comment" id="comment" rows="10" cols="10" tabindex="4"></textarea></p>						
		<p class="thesetags clearfix">You can use <a class="xhtmltags" href="#" onclick="return false;">these HTML tags</a></p>
		<div class="xhtml-tags"><p><code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; 
		</code></p></div>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='259' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						<script type="text/javascript">
		var submit = document.getElementById('submit');
		var spell_btn = document.createElement('input');
		spell_btn.type = 'button';
		spell_btn.id = 'comment_spellcheck';
		spell_btn.accesskey = 's';
		spell_btn.value = 'Check spelling';
		spell_btn.title = 'Check Spelling';
		spell_btn.alt = 'Check Spelling';
		spell_btn.style.margin = '0 0.5em';
		spell_btn.onclick = function() {
			var height = 400;
			var width = 500;
			var x = parseInt(screen.width / 2.0) - (width / 2.0);
			var y = parseInt(screen.height / 2.0) - (height / 2.0);
			var win = window.open('http://www.earthinfo.org/wp-content/plugins/ajax_spellchecker/comment/spell-checker.php', 'spellPopup' + new Date().getTime(), 'top=' + y + ',left=' + x + ',scrollbars=no,dialog=yes,minimizable=yes,modal=yes,width=' + width + ',height=' + height + ',resizable=yes');
		}
		submit.parentNode.appendChild(spell_btn);
	</script><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="3ab23eaad2" /></p>

	<p style="clear: both;" class="subscribe-to-comments">
	<input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;" />
	<label for="subscribe">Notify me of followup comments via e-mail</label>
	</p>


					</form>
							</div><!-- #respond -->
								
    

</td>
<!-- / Main Column -->

<!-- Right Inner Sidebar -->

<!-- Right Sidebar -->
<td id="right">

	<div id="calendar-2" class="widget widget_calendar"><div id="calendar_wrap"><table id="wp-calendar">
	<caption>September 2013</caption>
	<thead>
	<tr>
		<th scope="col" title="Monday">M</th>
		<th scope="col" title="Tuesday">T</th>
		<th scope="col" title="Wednesday">W</th>
		<th scope="col" title="Thursday">T</th>
		<th scope="col" title="Friday">F</th>
		<th scope="col" title="Saturday">S</th>
		<th scope="col" title="Sunday">S</th>
	</tr>
	</thead>

	<tfoot>
	<tr>
		<td colspan="3" id="prev"><a href="http://www.earthinfo.org/2011/10/" title="View posts for October 2011">&laquo; Oct</a></td>
		<td class="pad">&nbsp;</td>
		<td colspan="3" id="next" class="pad">&nbsp;</td>
	</tr>
	</tfoot>

	<tbody>
	<tr>
		<td colspan="6" class="pad">&nbsp;</td><td>1</td>
	</tr>
	<tr>
		<td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td>
	</tr>
	<tr>
		<td>9</td><td>10</td><td>11</td><td>12</td><td>13</td><td>14</td><td>15</td>
	</tr>
	<tr>
		<td>16</td><td>17</td><td>18</td><td>19</td><td>20</td><td>21</td><td>22</td>
	</tr>
	<tr>
		<td>23</td><td>24</td><td>25</td><td>26</td><td id="today">27</td><td>28</td><td>29</td>
	</tr>
	<tr>
		<td>30</td>
		<td class="pad" colspan="6">&nbsp;</td>
	</tr>
	</tbody>
	</table></div></div><div id="advertising-1" class="widget kd_aa_widget"><div class="widget-title"><h3> </h3></div><center><a href="http://www.thaikit.co.uk" target="thaikit"><img src="/wp-content/uploads/2009/04/Thaikit-180x180-Banner.jpg" name="Authentic Thai Curry in your home Thaikit.co.uk" alt="Authentic Thai Curry in your home Thaikit.co.uk" title="Authentic Thai Curry in your home Thaikit.co.uk"></a></center>
<br>

</div><div id="text-425616461" class="widget widget_text">			<div class="textwidget"><iframe data-aa='518' src='//ad.a-ads.com/518' scrolling='no' style='width:180px; height:150px; border:0px; padding:0;overflow:hidden' allowtransparency='true'></iframe>

<iframe src="http://bitcoinadvertisers.com/a2.php?p=1EYD1Hs1442kQiW5MfJzmc5e5VfJcSeWsi&a=1&size=2" scrolling="no" style="width:120px;height:600px;border:0"></iframe></div>
		</div><div id="tag_cloud-2" class="widget widget_tag_cloud"><div class="widget-title"><h3>Tags</h3></div><div class="tagcloud"><a href='http://www.earthinfo.org/tag/command-line/' class='tag-link-9' title='4 topics' style='font-size: 19.666666666667pt;'>Command Line</a>
<a href='http://www.earthinfo.org/tag/computing/' class='tag-link-7' title='3 topics' style='font-size: 16.75pt;'>Computing</a>
<a href='http://www.earthinfo.org/tag/disown/' class='tag-link-10' title='1 topic' style='font-size: 8pt;'>disown</a>
<a href='http://www.earthinfo.org/tag/email/' class='tag-link-16' title='1 topic' style='font-size: 8pt;'>email</a>
<a href='http://www.earthinfo.org/tag/html-tips/' class='tag-link-17' title='1 topic' style='font-size: 8pt;'>html tips</a>
<a href='http://www.earthinfo.org/tag/ios/' class='tag-link-30' title='1 topic' style='font-size: 8pt;'>IOS</a>
<a href='http://www.earthinfo.org/tag/ipad/' class='tag-link-33' title='1 topic' style='font-size: 8pt;'>iPad</a>
<a href='http://www.earthinfo.org/tag/iphone/' class='tag-link-32' title='1 topic' style='font-size: 8pt;'>iPhone</a>
<a href='http://www.earthinfo.org/tag/linux/' class='tag-link-8' title='5 topics' style='font-size: 22pt;'>Linux</a>
<a href='http://www.earthinfo.org/tag/linux-server-admin/' class='tag-link-14' title='2 topics' style='font-size: 13.25pt;'>Linux Server Admin</a>
<a href='http://www.earthinfo.org/tag/linux-tips/' class='tag-link-12' title='5 topics' style='font-size: 22pt;'>Linux tips</a>
<a href='http://www.earthinfo.org/tag/objective-c/' class='tag-link-28' title='1 topic' style='font-size: 8pt;'>Objective C</a>
<a href='http://www.earthinfo.org/tag/php/' class='tag-link-6' title='3 topics' style='font-size: 16.75pt;'>PHP</a>
<a href='http://www.earthinfo.org/tag/plesk9/' class='tag-link-5' title='1 topic' style='font-size: 8pt;'>Plesk9</a>
<a href='http://www.earthinfo.org/tag/programming/' class='tag-link-34' title='1 topic' style='font-size: 8pt;'>programming</a>
<a href='http://www.earthinfo.org/tag/review/' class='tag-link-22' title='1 topic' style='font-size: 8pt;'>Review</a>
<a href='http://www.earthinfo.org/tag/samsung-tv-repair/' class='tag-link-4' title='1 topic' style='font-size: 8pt;'>samsung tv repair</a>
<a href='http://www.earthinfo.org/tag/search-and-replace/' class='tag-link-11' title='1 topic' style='font-size: 8pt;'>search and replace</a>
<a href='http://www.earthinfo.org/tag/sed/' class='tag-link-13' title='1 topic' style='font-size: 8pt;'>sed</a>
<a href='http://www.earthinfo.org/tag/smtp/' class='tag-link-15' title='1 topic' style='font-size: 8pt;'>smtp</a>
<a href='http://www.earthinfo.org/tag/sony-ebook-reader/' class='tag-link-21' title='1 topic' style='font-size: 8pt;'>Sony Ebook Reader</a>
<a href='http://www.earthinfo.org/tag/sqlite/' class='tag-link-27' title='1 topic' style='font-size: 8pt;'>sqlite</a>
<a href='http://www.earthinfo.org/tag/uiimage/' class='tag-link-31' title='1 topic' style='font-size: 8pt;'>UIImage</a>
<a href='http://www.earthinfo.org/tag/xcode/' class='tag-link-29' title='1 topic' style='font-size: 8pt;'>Xcode</a>
<a href='http://www.earthinfo.org/tag/xml/' class='tag-link-26' title='1 topic' style='font-size: 8pt;'>XML</a>
<a href='http://www.earthinfo.org/tag/xpath/' class='tag-link-25' title='1 topic' style='font-size: 8pt;'>XPath</a></div>
</div>
</td>
<!-- / Right Sidebar -->

</tr>
<!-- / Main Body -->
<tr>

<!-- Footer -->
<td id="footer" colspan="3">
    Copyright &copy; 2013 <a href="http://www.earthinfo.org/">Earth Info</a> - All Rights Reserved<br />Powered by <a href="http://wordpress.org/">WordPress</a> &amp; <a href="http://forum.bytesforall.com/">Atahualpa</a>    
    
    <script class="javascript" src="http://www.earthinfo.org/wp-content/plugins/google-syntax-highlighter/Scripts/shCore.js"></script>
<script class="javascript" src="http://www.earthinfo.org/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushCSharp.js"></script>
<script class="javascript" src="http://www.earthinfo.org/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushPhp.js"></script>
<script class="javascript" src="http://www.earthinfo.org/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushJScript.js"></script>
<script class="javascript" src="http://www.earthinfo.org/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushJava.js"></script>
<script class="javascript" src="http://www.earthinfo.org/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushVb.js"></script>
<script class="javascript" src="http://www.earthinfo.org/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushSql.js"></script>
<script class="javascript" src="http://www.earthinfo.org/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushXml.js"></script>
<script class="javascript" src="http://www.earthinfo.org/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushDelphi.js"></script>
<script class="javascript" src="http://www.earthinfo.org/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushPython.js"></script>
<script class="javascript" src="http://www.earthinfo.org/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushRuby.js"></script>
<script class="javascript" src="http://www.earthinfo.org/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushCss.js"></script>
<script class="javascript" src="http://www.earthinfo.org/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushCpp.js"></script>
<script class="javascript">
dp.SyntaxHighlighter.ClipboardSwf = 'http://www.earthinfo.org/wp-content/plugins/google-syntax-highlighter/Scripts/clipboard.swf';
dp.SyntaxHighlighter.HighlightAll('code');
</script>
</td>


</tr>
</table><!-- / layout -->
</div><!-- / container -->
</div><!-- / wrapper -->
</body>
</html>